/* =============================================
   EXPEDITION - Premium Holographic UI Styles
   Deep space sci-fi aesthetic with depth & realism
   ============================================= */

/* =============================================
   CSS Variables & Theming
   ============================================= */

:root {
    /* Primary Colors */
    --primary-cyan: #00ffff;
    --primary-blue: #0088ff;
    --dark-cyan: #006666;
    --deep-blue: #001a33;

    /* Glow Effects */
    --glow-cyan: rgba(0, 255, 255, 0.6);
    --glow-cyan-soft: rgba(0, 255, 255, 0.3);
    --glow-blue: rgba(0, 136, 255, 0.5);

    /* Panel Styling */
    --panel-bg: linear-gradient(135deg, rgba(0, 20, 40, 0.95) 0%, rgba(0, 10, 30, 0.98) 100%);
    --panel-bg-solid: rgba(0, 15, 35, 0.95);
    --panel-border: rgba(0, 255, 255, 0.4);
    --panel-border-bright: rgba(0, 255, 255, 0.7);
    --panel-inner-glow: rgba(0, 255, 255, 0.08);

    /* Text Colors */
    --text-primary: #00ffff;
    --text-secondary: #88dddd;
    --text-dim: #446666;
    --text-bright: #ffffff;

    /* Status Colors */
    --shield-color: #00aaff;
    --shield-glow: rgba(0, 170, 255, 0.6);
    --armor-color: #ffaa00;
    --armor-glow: rgba(255, 170, 0, 0.6);
    --hull-color: #ff4444;
    --hull-glow: rgba(255, 68, 68, 0.6);
    --capacitor-color: #aa44ff;
    --capacitor-glow: rgba(170, 68, 255, 0.6);

    /* Entity Colors */
    --hostile-color: #ff4444;
    --friendly-color: #44ff44;
    --neutral-color: #888888;

    /* Animation Timings */
    --transition-fast: 0.15s;
    --transition-normal: 0.25s;
    --transition-slow: 0.4s;
}

/* =============================================
   Base Resets & Body
   ============================================= */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    overflow: hidden;
    background: #000;
    font-family: 'Courier New', 'Consolas', monospace;
    color: var(--text-primary);
    user-select: none;
}

/* =============================================
   Custom Scrollbars
   ============================================= */

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.3); }
::-webkit-scrollbar-thumb { background: rgba(0, 255, 255, 0.25); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(0, 255, 255, 0.45); }
::-webkit-scrollbar-corner { background: rgba(0, 0, 0, 0.3); }
* { scrollbar-width: thin; scrollbar-color: rgba(0, 255, 255, 0.25) rgba(0, 0, 0, 0.3); }

/* =============================================
   Global Button Polish
   ============================================= */

button:active:not(:disabled), .buy-btn:active:not(:disabled), .sell-btn:active:not(:disabled),
.board-btn:active:not(:disabled), .fleet-cmd-btn:active, .filter-btn:active {
    transform: scale(0.96) translateY(1px) !important;
}

button:focus-visible, .buy-btn:focus-visible, .sell-btn:focus-visible,
.board-btn:focus-visible, .filter-btn:focus-visible, .tab-btn:focus-visible,
.fleet-cmd-btn:focus-visible, .splash-btn:focus-visible {
    outline: 2px solid var(--primary-cyan);
    outline-offset: 2px;
}

button:disabled, .buy-btn:disabled, .sell-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
}

/* =============================================
   Global Tooltip System
   ============================================= */

.global-tooltip {
    position: fixed;
    background: rgba(0, 12, 30, 0.96);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    padding: 8px 12px;
    min-width: 140px;
    max-width: 260px;
    z-index: 100001;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.6), 0 0 10px var(--glow-cyan-soft);
    font-size: 11px;
    color: var(--text-secondary);
    line-height: 1.4;
}

.global-tooltip:not(.hidden) { opacity: 1; }

.global-tooltip-title {
    font-size: 11px;
    color: var(--text-primary);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 8px var(--glow-cyan-soft);
}

.global-tooltip-row {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    font-size: 10px;
    margin-bottom: 2px;
}

.global-tooltip-label { color: var(--text-dim); }
.global-tooltip-value { color: var(--text-primary); }
.global-tooltip-hint {
    font-size: 9px;
    color: var(--text-dim);
    margin-top: 4px;
    font-style: italic;
    opacity: 0.7;
}

.global-tooltip-divider {
    margin: 4px 0;
    border-top: 1px solid rgba(0, 255, 255, 0.15);
}

/* =============================================
   Confirmation Dialog
   ============================================= */

.confirm-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100002;
}

.confirm-overlay.hidden { display: none; }

.confirm-dialog-box {
    background: var(--panel-bg-solid);
    border: 1px solid var(--panel-border);
    border-radius: 6px;
    min-width: 340px;
    max-width: 440px;
    box-shadow: 0 0 60px rgba(0, 0, 0, 0.8), 0 0 30px var(--glow-cyan-soft);
    animation: confirm-appear 0.2s ease-out;
}

@keyframes confirm-appear {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.confirm-dialog-header {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    font-size: 13px;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.confirm-dialog-body {
    padding: 16px;
}

#confirm-message {
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 20px;
    line-height: 1.5;
}

.confirm-buttons {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.confirm-btn {
    padding: 8px 20px;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.15s;
    font-family: inherit;
}

.confirm-btn-yes {
    background: rgba(255, 68, 68, 0.15);
    border: 1px solid rgba(255, 68, 68, 0.5);
    color: #ff6666;
}

.confirm-btn-yes:hover {
    background: rgba(255, 68, 68, 0.3);
    border-color: #ff6666;
}

.confirm-btn-no {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.25);
    color: var(--text-secondary);
}

.confirm-btn-no:hover {
    background: rgba(0, 255, 255, 0.15);
    border-color: var(--primary-cyan);
    color: var(--text-primary);
}

/* =============================================
   Status Bar Pulse Animations
   ============================================= */

.bar-container.pulse-gain { animation: bar-pulse-gain 0.4s ease-out; }
.bar-container.pulse-loss { animation: bar-pulse-loss 0.4s ease-out; }

@keyframes bar-pulse-gain {
    0% { box-shadow: inset 0 0 0 rgba(68, 255, 68, 0); }
    50% { box-shadow: inset 0 0 15px rgba(68, 255, 68, 0.5); }
    100% { box-shadow: inset 0 0 0 rgba(68, 255, 68, 0); }
}

@keyframes bar-pulse-loss {
    0% { box-shadow: inset 0 0 0 rgba(255, 68, 68, 0); }
    50% { box-shadow: inset 0 0 15px rgba(255, 68, 68, 0.5); }
    100% { box-shadow: inset 0 0 0 rgba(255, 68, 68, 0); }
}

#credits-value.pulse-gain { animation: credits-gain 0.5s ease-out; }
#credits-value.pulse-loss { animation: credits-loss 0.5s ease-out; }

@keyframes credits-gain {
    0% { color: var(--text-primary); }
    50% { color: var(--friendly-color); text-shadow: 0 0 15px var(--friendly-color); }
    100% { color: var(--text-primary); }
}

@keyframes credits-loss {
    0% { color: var(--text-primary); }
    50% { color: var(--hull-color); text-shadow: 0 0 15px var(--hull-color); }
    100% { color: var(--text-primary); }
}

/* =============================================
   Module Rack Enhancements
   ============================================= */

.module-slot-keybind {
    position: absolute;
    top: 2px;
    right: 3px;
    font-size: 7px;
    color: rgba(255, 255, 255, 0.35);
    z-index: 10;
    pointer-events: none;
    letter-spacing: 0.5px;
}

.module-slot.out-of-range {
    opacity: 0.45;
}

.module-slot.out-of-range::after {
    content: '';
    position: absolute;
    inset: 0;
    border: 1px solid rgba(255, 68, 68, 0.4);
    border-radius: inherit;
    pointer-events: none;
}

.module-cooldown-text {
    position: absolute;
    bottom: 3px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 9px;
    color: rgba(255, 255, 255, 0.8);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
    z-index: 15;
    pointer-events: none;
}

/* =============================================
   Enhanced Toast Notifications
   ============================================= */

.toast {
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: 8px;
}

.toast-icon {
    flex-shrink: 0;
    width: 16px;
    text-align: center;
    font-size: 14px;
}

.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    background: currentColor;
    opacity: 0.4;
    animation: toast-shrink 3s linear forwards;
}

@keyframes toast-shrink {
    from { width: 100%; }
    to { width: 0%; }
}

/* =============================================
   Empty State Component
   ============================================= */

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px 15px;
    color: var(--text-dim);
    text-align: center;
}

.empty-state-icon {
    font-size: 32px;
    opacity: 0.25;
    margin-bottom: 8px;
}

.empty-state-title {
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 4px;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.empty-state-hint {
    font-size: 10px;
    color: var(--text-dim);
    line-height: 1.4;
    opacity: 0.7;
}

/* =============================================
   Damage Direction Indicators
   ============================================= */

#damage-direction-container {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    z-index: 500;
    pointer-events: none;
}

.damage-dir-arrow {
    position: absolute;
    width: 40px;
    height: 40px;
    transform: rotate(var(--angle, 0deg));
    transform-origin: center 120px;
    animation: dmg-dir-fade 0.8s ease-out forwards;
}

.damage-dir-arrow::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 16px solid rgba(255, 68, 68, 0.8);
    filter: drop-shadow(0 0 6px rgba(255, 68, 68, 0.6));
}

.damage-dir-arrow.missile::before {
    border-bottom-color: rgba(255, 170, 0, 0.8);
    filter: drop-shadow(0 0 6px rgba(255, 170, 0, 0.6));
}

.damage-dir-arrow.hostile::before {
    border-bottom-color: rgba(255, 100, 50, 0.7);
    filter: drop-shadow(0 0 8px rgba(255, 100, 50, 0.5));
}

@keyframes dmg-dir-fade {
    0% { opacity: 1; }
    70% { opacity: 0.8; }
    100% { opacity: 0; }
}

/* =============================================
   Game Container
   ============================================= */

#game-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 1;
}

#game-container canvas {
    display: block;
}

/* =============================================
   UI Overlay
   ============================================= */

#ui-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 10;
    pointer-events: none;
}

#ui-overlay > * {
    pointer-events: auto;
}

.hidden {
    display: none !important;
}

/* =============================================
   Panel Base Styles - Premium Glass Effect
   ============================================= */

.panel {
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    box-shadow:
        0 0 30px rgba(0, 255, 255, 0.15),
        0 0 60px rgba(0, 100, 150, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.05),
        inset 0 0 40px var(--panel-inner-glow);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
    resize: both;
}

/* Corner Accents */
.panel::before,
.panel::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border-style: solid;
    border-color: var(--panel-border-bright);
    pointer-events: none;
    z-index: 5;
}

.panel::before {
    top: -1px;
    left: -1px;
    border-width: 2px 0 0 2px;
    border-radius: 4px 0 0 0;
}

.panel::after {
    bottom: -1px;
    right: -1px;
    border-width: 0 2px 2px 0;
    border-radius: 0 0 4px 0;
}

/* Panel Header */
.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    border-bottom: 1px solid var(--panel-border);
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
    position: relative;
    cursor: grab;
    user-select: none;
}

/* Header Scan Line Effect */
.panel-header::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, var(--primary-cyan) 50%, transparent 100%);
    opacity: 0.5;
}

.panel-title {
    font-size: 11px;
    letter-spacing: 3px;
    color: var(--text-primary);
    text-shadow: 0 0 15px var(--glow-cyan);
    text-transform: uppercase;
}

.panel-close {
    background: none;
    border: 1px solid transparent;
    color: var(--text-secondary);
    font-size: 18px;
    width: 28px;
    height: 28px;
    cursor: pointer;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
}

.panel-close:hover {
    color: var(--hostile-color);
    border-color: var(--hostile-color);
    background: rgba(255, 68, 68, 0.1);
    box-shadow: 0 0 15px rgba(255, 68, 68, 0.3);
}

.panel-content {
    padding: 12px;
    position: relative;
}

/* =============================================
   Top Bar - Ship Status HUD
   ============================================= */

/* Bottom HUD Bar */
#bottom-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 25px;
    background: linear-gradient(0deg,
        rgba(0, 20, 40, 0.95) 0%,
        rgba(0, 15, 35, 0.9) 70%,
        rgba(0, 10, 30, 0.7) 100%);
    border-top: 1px solid var(--panel-border);
    box-shadow:
        0 -2px 20px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(0, 255, 255, 0.1);
}

/* Bottom bar subtle scan line */
#bottom-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg,
        transparent 0%,
        var(--primary-cyan) 20%,
        var(--primary-cyan) 80%,
        transparent 100%);
    opacity: 0.3;
}

/* Left section - Speed */
#bottom-bar .left-section {
    position: absolute;
    left: 25px;
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Center section - Ship Status */
#bottom-bar .center-section {
    display: flex;
    align-items: center;
    gap: 20px;
}

/* Right section - ISK, Cargo, Settings */
#bottom-bar .right-section {
    position: absolute;
    right: 25px;
    display: flex;
    align-items: center;
    gap: 15px;
}

#ship-status {
    display: flex;
    gap: 25px;
}

.status-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.status-group label {
    font-size: 9px;
    letter-spacing: 2px;
    color: var(--text-dim);
    text-transform: uppercase;
}

/* Premium Status Bars */
.bar-container {
    position: relative;
    width: 130px;
    height: 18px;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.5) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Bar Background Grid Pattern */
.bar-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent 0px,
        transparent 12px,
        rgba(255, 255, 255, 0.03) 12px,
        rgba(255, 255, 255, 0.03) 13px
    );
    pointer-events: none;
}

.status-bar {
    height: 100%;
    transition: width 0.3s ease-out;
    position: relative;
}

/* Shield Bar */
.status-bar.shield {
    background: linear-gradient(180deg,
        #00ccff 0%,
        var(--shield-color) 50%,
        #0066aa 100%);
    box-shadow:
        0 0 20px var(--shield-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    width: 100%;
}

/* Armor Bar */
.status-bar.armor {
    background: linear-gradient(180deg,
        #ffcc00 0%,
        var(--armor-color) 50%,
        #cc6600 100%);
    box-shadow:
        0 0 20px var(--armor-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    width: 100%;
}

/* Hull Bar */
.status-bar.hull {
    background: linear-gradient(180deg,
        #ff6666 0%,
        var(--hull-color) 50%,
        #aa0000 100%);
    box-shadow:
        0 0 20px var(--hull-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    width: 100%;
}

/* Capacitor Bar */
.status-bar.capacitor {
    background: linear-gradient(180deg,
        #cc66ff 0%,
        var(--capacitor-color) 50%,
        #6622aa 100%);
    box-shadow:
        0 0 20px var(--capacitor-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    width: 100%;
}

/* Capacitor Ring */
.cap-ring-group {
    position: relative;
}

.cap-ring {
    position: absolute;
    right: -38px;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
}

.cap-ring-bg {
    fill: none;
    stroke: rgba(100, 50, 150, 0.2);
    stroke-width: 3;
}

.cap-ring-fill {
    fill: none;
    stroke: #9944ff;
    stroke-width: 3;
    stroke-linecap: round;
    stroke-dasharray: 119.38;
    stroke-dashoffset: 0;
    transform: rotate(-90deg);
    transform-origin: center;
    transition: stroke-dashoffset 0.3s ease, stroke 0.3s;
    filter: drop-shadow(0 0 3px rgba(153, 68, 255, 0.5));
}

.cap-ring-fill.low {
    stroke: #ff4444;
    filter: drop-shadow(0 0 4px rgba(255, 68, 68, 0.6));
}

.cap-ring-fill.critical {
    stroke: #ff2222;
    filter: drop-shadow(0 0 6px rgba(255, 34, 34, 0.8));
    animation: cap-ring-blink 0.5s ease-in-out infinite;
}

@keyframes cap-ring-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

.status-bar.cargo {
    background: linear-gradient(180deg,
        #ffbb44 0%,
        #cc8800 50%,
        #885500 100%);
    box-shadow:
        0 0 12px rgba(204, 136, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    width: 0%;
}

/* Animated pulse on bars */
.status-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 100%);
    animation: bar-shimmer 3s ease-in-out infinite;
}

@keyframes bar-shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
}

.bar-container span {
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
    z-index: 2;
}

/* Speed Display */
#speed-display {
    font-size: 32px;
    font-weight: bold;
    color: var(--text-primary);
    text-shadow:
        0 0 30px var(--glow-cyan),
        0 0 60px var(--glow-cyan-soft);
    letter-spacing: 2px;
    min-width: 140px;
}

#speed-display .unit {
    font-size: 14px;
    color: var(--text-secondary);
    text-shadow: none;
    margin-left: 5px;
}

/* Heading / Compass Display */
#heading-display {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-left: 8px;
    padding-left: 12px;
    border-left: 1px solid rgba(0, 255, 255, 0.15);
}

.heading-compass {
    position: relative;
    width: 44px;
    height: 44px;
    flex-shrink: 0;
}

#compass-ring {
    filter: drop-shadow(0 0 4px rgba(0, 255, 255, 0.3));
}

.heading-text {
    display: flex;
    align-items: baseline;
    gap: 1px;
    min-width: 52px;
}

#heading-degrees {
    font-size: 20px;
    font-weight: bold;
    color: var(--text-primary);
    letter-spacing: 1px;
    font-variant-numeric: tabular-nums;
}

.heading-unit {
    font-size: 12px;
    color: var(--text-dim);
}

.heading-cardinal {
    font-size: 11px;
    color: var(--primary-cyan);
    margin-left: 3px;
    letter-spacing: 1px;
    opacity: 0.7;
}

/* Credits Display */
#credits-display {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 221, 68, 0.3);
    border-radius: 3px;
}

#credits-display .label {
    font-size: 10px;
    color: rgba(255, 221, 68, 0.7);
    letter-spacing: 1px;
}

#credits-value {
    font-size: 18px;
    color: #ffdd44;
    text-shadow: 0 0 15px rgba(255, 221, 68, 0.6);
    font-weight: bold;
}

/* Settings Button */
#danger-indicator {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-left: 12px;
    padding: 2px 8px;
    border: 1px solid rgba(100, 100, 100, 0.2);
    border-radius: 3px;
    background: rgba(0, 0, 0, 0.3);
}

.danger-label {
    font-size: 9px;
    letter-spacing: 1px;
    color: rgba(150, 150, 150, 0.5);
}

#danger-level {
    font-size: 14px;
    font-weight: bold;
    letter-spacing: 1px;
}

#danger-level.danger-hub { color: #44ff88; text-shadow: 0 0 6px rgba(68, 255, 136, 0.3); }
#danger-level.danger-safe { color: #44ff44; }
#danger-level.danger-normal { color: #ffdd44; }
#danger-level.danger-dangerous { color: #ff8844; animation: sec-pulse 2s ease-in-out infinite; }
#danger-level.danger-deadly { color: #ff2222; text-shadow: 0 0 8px rgba(255, 34, 34, 0.5); animation: sec-pulse 1.2s ease-in-out infinite; }
@keyframes sec-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

#settings-btn {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.15) 0%, rgba(0, 255, 255, 0.05) 100%);
    border: 1px solid var(--panel-border);
    color: var(--text-primary);
    font-size: 20px;
    width: 44px;
    height: 44px;
    cursor: pointer;
    transition: all var(--transition-normal);
    margin-left: 10px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#settings-btn:hover {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.3) 0%, rgba(0, 255, 255, 0.1) 100%);
    border-color: var(--panel-border-bright);
    box-shadow:
        0 0 20px var(--glow-cyan-soft),
        inset 0 0 20px rgba(0, 255, 255, 0.1);
    transform: scale(1.05);
}

#settings-btn:active {
    transform: scale(0.98);
}

/* =============================================
   Target Panel
   ============================================= */

#target-panel {
    position: absolute;
    top: 20px;
    left: 20px;
    width: 280px;
}

.target-name {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 6px;
    text-shadow: 0 0 10px var(--glow-cyan-soft);
}

.target-type {
    font-size: 11px;
    color: var(--text-secondary);
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.target-distance {
    font-size: 14px;
    color: var(--text-primary);
    margin-bottom: 12px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-left: 2px solid var(--primary-cyan);
}

#target-health-bars {
    display: flex;
    gap: 6px;
}

.mini-bar-group {
    flex: 1;
    height: 10px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.mini-bar {
    height: 100%;
    width: 100%;
    transition: width 0.3s;
}

.mini-bar.shield {
    background: linear-gradient(180deg, var(--shield-color) 0%, #0066aa 100%);
    box-shadow: 0 0 10px var(--shield-glow);
}
.mini-bar.armor {
    background: linear-gradient(180deg, var(--armor-color) 0%, #cc6600 100%);
    box-shadow: 0 0 10px var(--armor-glow);
}
.mini-bar.hull {
    background: linear-gradient(180deg, var(--hull-color) 0%, #aa0000 100%);
    box-shadow: 0 0 10px var(--hull-glow);
}

.cargo-bar-group {
    position: relative;
    height: 8px;
    margin-top: 2px;
}

.mini-bar.cargo {
    background: linear-gradient(180deg, #44cc88 0%, #228844 100%);
    box-shadow: 0 0 6px rgba(68, 204, 136, 0.3);
    transition: width 0.3s, background 0.3s;
}

.mini-bar.cargo.warning {
    background: linear-gradient(180deg, #ccaa44 0%, #886622 100%);
    box-shadow: 0 0 6px rgba(204, 170, 68, 0.3);
}

.mini-bar.cargo.full {
    background: linear-gradient(180deg, #cc4444 0%, #882222 100%);
    box-shadow: 0 0 8px rgba(204, 68, 68, 0.4);
}

.cargo-label {
    position: absolute;
    right: 3px;
    top: -1px;
    font-size: 7px;
    color: rgba(200, 220, 240, 0.6);
    pointer-events: none;
    line-height: 8px;
}

/* Scanner Readout (target panel expansion) */
.target-scanner {
    margin-top: 8px;
}

.scanner-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
    margin: 8px 0;
}

.scanner-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3px 8px;
    padding: 4px 0;
}

.scanner-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2px 4px;
    border-radius: 2px;
}

.scanner-row:hover {
    background: rgba(0, 255, 255, 0.05);
}

.scanner-label {
    font-size: 9px;
    color: rgba(100, 180, 220, 0.6);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.scanner-value {
    font-size: 11px;
    color: rgba(180, 220, 255, 0.9);
    font-family: 'Courier New', monospace;
    text-align: right;
}

.scanner-ewar {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    padding: 4px 0;
}

.scanner-ewar:empty {
    display: none;
}

.ewar-badge {
    font-size: 9px;
    padding: 2px 6px;
    border-radius: 3px;
    letter-spacing: 0.5px;
    font-weight: 600;
}

.ewar-badge.pointed {
    background: rgba(255, 40, 40, 0.2);
    border: 1px solid rgba(255, 60, 60, 0.5);
    color: #ff6666;
}

.ewar-badge.webbed {
    background: rgba(255, 160, 40, 0.2);
    border: 1px solid rgba(255, 160, 60, 0.5);
    color: #ffaa44;
}

.ewar-badge.warping {
    background: rgba(40, 120, 255, 0.2);
    border: 1px solid rgba(60, 140, 255, 0.5);
    color: #6688ff;
}

.scanner-modules {
    padding: 2px 0;
}

.scanner-modules:empty {
    display: none;
}

.scanner-module-row {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 1px 4px;
    font-size: 10px;
    color: rgba(150, 200, 230, 0.7);
}

.scanner-module-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    flex-shrink: 0;
}

.scanner-module-dot.active {
    background: #44ff88;
    box-shadow: 0 0 4px rgba(68, 255, 136, 0.6);
}

.scanner-module-dot.inactive {
    background: rgba(100, 100, 100, 0.5);
}

/* DPS readout */
.dps-incoming {
    color: #ff4444 !important;
}

.dps-outgoing {
    color: #44ff88 !important;
}

/* Threat list */
.threat-list {
    padding: 0 6px 4px;
}

.threat-header {
    font-size: 8px;
    color: rgba(255, 100, 100, 0.7);
    letter-spacing: 1px;
    padding: 2px 0;
}

.threat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1px 4px;
    font-size: 9px;
    color: rgba(200, 180, 180, 0.8);
    border-left: 2px solid rgba(255, 68, 68, 0.4);
    margin: 1px 0;
    cursor: pointer;
}

.threat-row:hover {
    background: rgba(255, 68, 68, 0.1);
}

.threat-row .threat-name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.threat-row .threat-dps {
    color: #ff6644;
    font-family: 'Courier New', monospace;
    margin-left: 6px;
}

/* =============================================
   Overview Panel
   ============================================= */

/* Overview hover tooltip */
.overview-tooltip {
    position: fixed;
    z-index: 300;
    padding: 8px 12px;
    background: rgba(10, 20, 35, 0.95);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 4px;
    pointer-events: none;
    max-width: 220px;
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.1);
}

.ov-tip-name {
    font-size: 12px;
    font-weight: bold;
    color: #ffffff;
    margin-bottom: 4px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.15);
    padding-bottom: 3px;
}

.ov-tip-row {
    font-size: 10px;
    color: rgba(180, 200, 220, 0.8);
    line-height: 1.5;
}

.ov-tip-threat {
    color: #ff8844;
    font-weight: bold;
}

.ov-tip-size {
    color: #88aacc;
    font-style: italic;
}

#overview-panel {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 380px;
    height: calc(100vh - 220px);
    min-width: 280px;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    resize: both;
    overflow: hidden;
}

#overview-filters {
    display: flex;
    gap: 6px;
}

.filter-btn {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
    border: 1px solid var(--panel-border);
    color: var(--text-secondary);
    padding: 5px 10px;
    font-size: 10px;
    cursor: pointer;
    transition: all var(--transition-fast);
    border-radius: 3px;
    letter-spacing: 1px;
}

.filter-btn:hover {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0.05) 100%);
    border-color: var(--panel-border-bright);
}

.filter-btn.active {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.35) 0%, rgba(0, 255, 255, 0.15) 100%);
    color: var(--text-primary);
    border-color: var(--panel-border-bright);
    box-shadow:
        0 0 15px var(--glow-cyan-soft),
        inset 0 0 10px rgba(0, 255, 255, 0.1);
}

#overview-panel .panel-content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 0;
}

#overview-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 11px;
}

#overview-table th {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
    padding: 10px 12px;
    text-align: left;
    font-weight: normal;
    letter-spacing: 2px;
    color: var(--text-dim);
    border-bottom: 1px solid var(--panel-border);
    position: sticky;
    top: 0;
    text-transform: uppercase;
    font-size: 9px;
}

#overview-table td {
    padding: 8px 12px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
    transition: all var(--transition-fast);
}

#overview-table tr {
    cursor: pointer;
    transition: all var(--transition-fast);
}

#overview-table tr:hover {
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.15) 0%, rgba(0, 255, 255, 0.05) 100%);
}

#overview-table tr:hover td {
    border-bottom-color: var(--panel-border);
}

#overview-table tr.selected {
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.25) 0%, rgba(0, 255, 255, 0.1) 100%);
    box-shadow: inset 3px 0 0 var(--primary-cyan);
}

#overview-table tr.hostile td { color: var(--hostile-color); }
#overview-table tr.friendly td { color: var(--friendly-color); }
#overview-table tr.neutral td { color: #88aacc; }

#overview-table tr.overview-new-hostile {
    animation: hostile-flash 1.5s ease-out;
}

@keyframes hostile-flash {
    0%, 20% { background: rgba(255, 40, 40, 0.3); }
    100% { background: transparent; }
}

.overview-icon {
    width: 20px;
    text-align: center;
    font-size: 14px;
    position: relative;
}

.threat-dot {
    display: inline-block;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    margin-right: 2px;
    vertical-align: middle;
}

.threat-none { background: transparent; }
.threat-friendly { background: #44ff88; }
.threat-trivial { background: #888888; }
.threat-low { background: #88cc44; }
.threat-med { background: #ffcc00; }
.threat-high { background: #ff4444; box-shadow: 0 0 3px rgba(255, 68, 68, 0.5); }
.threat-skull { background: #ff2222; box-shadow: 0 0 5px rgba(255, 34, 34, 0.7); animation: threat-skull-pulse 0.8s ease-in-out infinite; }

@keyframes threat-skull-pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* =============================================
   Module Rack - Premium Styling
   ============================================= */

/* Power Routing Panel */
#power-routing {
    position: absolute;
    bottom: 90px;
    left: 50%;
    transform: translateX(calc(-50% - 230px));
    display: flex;
    gap: 6px;
    padding: 8px 10px;
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 6px;
    z-index: 5;
}

.power-channel {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    cursor: pointer;
    width: 28px;
}

.power-label {
    font-size: 7px;
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: 0.5px;
}

.power-slider-track {
    width: 8px;
    height: 50px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    position: relative;
    overflow: hidden;
}

.power-slider-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--primary-cyan);
    transition: height 0.2s;
    border-radius: 0 0 2px 2px;
}

.power-channel[data-channel="weapons"] .power-slider-fill {
    background: linear-gradient(to top, #ff4444, #ff8844);
}

.power-channel[data-channel="shields"] .power-slider-fill {
    background: linear-gradient(to top, #4488ff, #44ccff);
}

.power-channel[data-channel="engines"] .power-slider-fill {
    background: linear-gradient(to top, #44ff88, #88ff44);
}

.power-value {
    font-size: 8px;
    color: rgba(255, 255, 255, 0.6);
    font-family: var(--font-mono);
}

#module-rack {
    position: absolute;
    bottom: 90px; /* Above the bottom bar (70px) + margin */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 10px 16px;
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 8px;
    box-shadow:
        0 0 40px rgba(0, 255, 255, 0.2),
        0 10px 40px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.05),
        inset 0 0 60px var(--panel-inner-glow);
}

/* Module Rack Decorative Line */
#module-rack::before {
    content: '';
    position: absolute;
    top: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 70%;
    height: 1px;
    background: linear-gradient(90deg,
        transparent 0%,
        var(--panel-border) 20%,
        var(--panel-border-bright) 50%,
        var(--panel-border) 80%,
        transparent 100%);
}

.module-section {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 8px;
}

.section-label {
    font-size: 8px;
    letter-spacing: 2px;
    color: var(--text-dim);
    text-transform: uppercase;
    width: 28px;
    text-align: right;
    flex-shrink: 0;
}

.module-slots {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    justify-content: center;
}

.module-slot {
    position: relative;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 20, 40, 0.4) 100%);
    border: 2px solid var(--panel-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-normal);
    overflow: hidden;
}

/* Module slot inner border effect */
.module-slot::before {
    content: '';
    position: absolute;
    inset: 3px;
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: 5px;
    pointer-events: none;
}

.module-slot:hover {
    border-color: var(--panel-border-bright);
    box-shadow:
        0 0 25px var(--glow-cyan-soft),
        inset 0 0 20px rgba(0, 255, 255, 0.1);
    transform: translateY(-2px);
}

.module-slot.active {
    border-color: var(--friendly-color);
    box-shadow:
        0 0 30px rgba(68, 255, 68, 0.4),
        inset 0 0 25px rgba(68, 255, 68, 0.15);
    animation: module-pulse 1.5s ease-in-out infinite;
}

.module-slot.active::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(68, 255, 68, 0.2) 0%, transparent 50%);
    pointer-events: none;
}

.module-slot.cap-warning {
    --cap-warn-color: rgba(255,100,0,0.5);
    border-color: #ff6600 !important;
    box-shadow:
        0 0 12px var(--cap-warn-color),
        0 0 25px var(--cap-warn-color),
        inset 0 0 10px var(--cap-warn-color) !important;
    animation: cap-warn-pulse 0.6s ease-in-out infinite !important;
}

@keyframes cap-warn-pulse {
    0%, 100% { box-shadow: 0 0 12px var(--cap-warn-color), 0 0 25px var(--cap-warn-color), inset 0 0 10px var(--cap-warn-color); }
    50% { box-shadow: 0 0 6px var(--cap-warn-color), 0 0 15px var(--cap-warn-color), inset 0 0 5px var(--cap-warn-color); }
}

.module-slot.disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.module-slot.disabled:hover {
    transform: none;
    box-shadow: none;
}

@keyframes module-pulse {
    0%, 100% {
        box-shadow: 0 0 30px rgba(68, 255, 68, 0.4), inset 0 0 25px rgba(68, 255, 68, 0.15);
    }
    50% {
        box-shadow: 0 0 40px rgba(68, 255, 68, 0.6), inset 0 0 35px rgba(68, 255, 68, 0.25);
    }
}

.module-icon {
    font-size: 22px;
    color: var(--text-primary);
    text-shadow: 0 0 10px var(--glow-cyan-soft);
    z-index: 1;
}

.module-cooldown {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 0%;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.8) 100%);
    transition: height 0.1s linear;
    z-index: 2;
}

/* Cargo HUD Bar (below module rack) */
#cargo-hud-bar {
    position: relative;
    width: 100%;
    height: 6px;
    background: rgba(0, 0, 0, 0.4);
    border-top: 1px solid rgba(0, 255, 255, 0.15);
    margin-top: 6px;
    border-radius: 0 0 6px 6px;
    overflow: hidden;
}

#cargo-hud-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #228844, #44cc66);
    transition: width 0.3s ease, background 0.3s ease;
    border-radius: 0 0 0 5px;
}

#cargo-hud-bar.cargo-warning #cargo-hud-fill {
    background: linear-gradient(90deg, #cc8800, #ffaa22);
}

#cargo-hud-bar.cargo-full #cargo-hud-fill {
    background: linear-gradient(90deg, #cc2222, #ff4444);
    box-shadow: 0 0 6px rgba(255, 68, 68, 0.4);
}

#cargo-hud-text {
    position: absolute;
    left: 50%;
    top: -12px;
    transform: translateX(-50%);
    font-size: 8px;
    color: rgba(0, 255, 255, 0.5);
    letter-spacing: 1px;
    white-space: nowrap;
    pointer-events: none;
    display: none;
}

#cargo-hud-bar:hover #cargo-hud-text {
    display: block;
}

/* =============================================
   Event Log
   ============================================= */

#event-log {
    position: absolute;
    bottom: 175px; /* Above the bottom bar and module rack */
    left: 20px;
    width: 380px;
    height: 160px;
    min-width: 250px;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    resize: both;
    overflow: hidden;
}

#event-log .panel-content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 8px 12px;
}

#log-messages {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.log-message {
    font-size: 11px;
    padding: 5px 8px;
    background: rgba(0, 0, 0, 0.2);
    border-left: 2px solid var(--panel-border);
    border-radius: 0 3px 3px 0;
    animation: log-fade-in 0.3s ease-out;
}

@keyframes log-fade-in {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.log-message .timestamp {
    color: var(--text-dim);
    margin-right: 10px;
    font-size: 10px;
}

.log-message.combat {
    color: var(--hostile-color);
    border-left-color: var(--hostile-color);
    background: rgba(255, 68, 68, 0.05);
}
.log-message.mining {
    color: #ffaa44;
    border-left-color: #ffaa44;
    background: rgba(255, 170, 68, 0.05);
}
.log-message.system {
    color: var(--text-secondary);
    border-left-color: var(--panel-border);
}
.log-message.warp {
    color: var(--primary-blue);
    border-left-color: var(--primary-blue);
    background: rgba(0, 136, 255, 0.05);
}
.log-message.trade {
    color: #44ff88;
    border-left-color: #44ff88;
    background: rgba(68, 255, 136, 0.05);
}
.log-message.guild {
    color: #ffcc44;
    border-left-color: #ffcc44;
    background: rgba(255, 204, 68, 0.05);
}
.log-message.kill {
    color: #ff6644;
    border-left-color: #ff6644;
    background: rgba(255, 102, 68, 0.08);
    padding: 6px 8px;
}
.log-message.loot {
    color: #88ff44;
    border-left-color: #88ff44;
    background: rgba(136, 255, 68, 0.05);
}
.log-message.ewar {
    color: #ff8844;
    border-left-color: #ff8844;
    background: rgba(255, 136, 68, 0.05);
}
.log-message.fleet {
    color: #44aaff;
    border-left-color: #44aaff;
    background: rgba(68, 170, 255, 0.05);
}
.log-message.scan {
    color: #00ff88;
    border-left-color: #00ff88;
    background: rgba(0, 255, 136, 0.05);
}
.log-message.danger {
    color: #ff4444;
    border-left-color: #ff4444;
    background: rgba(255, 68, 68, 0.08);
    animation: danger-flash 0.5s ease-out;
}

@keyframes danger-flash {
    0% { background: rgba(255, 68, 68, 0.25); }
    100% { background: rgba(255, 68, 68, 0.08); }
}

.log-killmail {
    font-size: 10px;
    margin-top: 3px;
    padding: 4px 6px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 3px;
    color: rgba(200, 200, 200, 0.7);
}

.log-killmail .km-header {
    color: #ff6644;
    font-weight: 600;
    margin-bottom: 2px;
}

.log-killmail .km-bounty {
    color: #ffcc44;
}

.log-killmail .km-loot {
    color: #88ff44;
}

/* =============================================
   Context Menu
   ============================================= */

#context-menu {
    position: absolute;
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    box-shadow:
        0 0 30px rgba(0, 255, 255, 0.25),
        0 5px 30px rgba(0, 0, 0, 0.5);
    min-width: 180px;
    z-index: 1000;
    overflow: visible; /* Allow submenus to extend outside */
}

/* Context menu top accent line */
#context-menu::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--primary-cyan), var(--primary-blue));
}

.menu-item {
    padding: 12px 18px;
    font-size: 12px;
    cursor: pointer;
    transition: all var(--transition-fast);
    border-left: 2px solid transparent;
    letter-spacing: 0.5px;
}

/* Handle rounded corners without overflow:hidden */
#context-menu > .menu-item:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
}

#context-menu > .menu-item:last-child,
#context-menu > .menu-separator + .menu-item:last-of-type {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
}

.menu-item:hover {
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0.05) 100%);
    border-left-color: var(--primary-cyan);
    padding-left: 22px;
}

.menu-item.disabled {
    color: var(--text-dim);
    cursor: not-allowed;
}

.menu-item.disabled:hover {
    background: none;
    border-left-color: transparent;
    padding-left: 18px;
}

.menu-separator {
    height: 1px;
    background: linear-gradient(90deg, transparent 10%, var(--panel-border) 50%, transparent 90%);
    margin: 6px 0;
}

/* Context Menu Submenus */
.menu-item.has-submenu {
    position: relative;
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

.submenu-arrow {
    font-size: 10px;
    color: var(--text-dim);
    margin-right: 8px;
    transition: color var(--transition-fast);
}

.menu-item.has-submenu:hover .submenu-arrow {
    color: var(--primary-cyan);
}

.submenu {
    position: absolute;
    right: calc(100% - 5px); /* Slight overlap with parent */
    left: auto;
    top: -1px;
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    box-shadow:
        0 0 20px rgba(0, 255, 255, 0.2),
        0 5px 20px rgba(0, 0, 0, 0.5);
    min-width: 120px;
    display: none;
    z-index: 10001;
    overflow: visible;
}

/* Invisible hover bridge from submenu back to parent menu item */
.submenu::after {
    content: '';
    position: absolute;
    top: 0;
    right: -15px;
    width: 20px;
    height: 100%;
    background: transparent;
}

.submenu::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--primary-cyan), var(--primary-blue));
}

.menu-item.has-submenu:hover .submenu {
    display: block;
}

.submenu-item {
    padding: 10px 16px;
    font-size: 11px;
    cursor: pointer;
    transition: all var(--transition-fast);
    border-left: 2px solid transparent;
    letter-spacing: 0.5px;
}

.submenu-item:hover {
    background: linear-gradient(90deg, rgba(0, 255, 255, 0.15) 0%, rgba(0, 255, 255, 0.05) 100%);
    border-left-color: var(--primary-cyan);
    padding-left: 18px;
}

/* =============================================
   Hyperspace Jump Tunnel Effect
   ============================================= */

#warp-streaks-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.warp-vortex, .warp-ring, .warp-stars, .warp-lines, .warp-flash-overlay, .warp-text {
    z-index: 2;
}

#warp-tunnel {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(ellipse at center,
        rgba(10, 30, 80, 0.3) 0%,
        rgba(5, 15, 40, 0.6) 25%,
        rgba(0, 5, 15, 0.9) 50%,
        rgba(0, 0, 0, 1) 100%);
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    animation: warp-tunnel-enter 0.3s ease-out forwards;
}

@keyframes warp-tunnel-enter {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

/* Central vortex - swirling blue core */
.warp-vortex {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background: radial-gradient(ellipse at center,
        rgba(100, 180, 255, 0.8) 0%,
        rgba(40, 120, 255, 0.5) 30%,
        rgba(20, 60, 200, 0.2) 60%,
        transparent 100%);
    box-shadow:
        0 0 60px rgba(80, 160, 255, 0.6),
        0 0 120px rgba(40, 100, 255, 0.3),
        0 0 200px rgba(20, 60, 200, 0.2);
    animation: vortex-pulse 0.6s ease-in-out infinite alternate;
}

@keyframes vortex-pulse {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; }
    100% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
}

/* Concentric tunnel rings rushing toward viewer */
.warp-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    border-radius: 50%;
    border: 2px solid rgba(60, 140, 255, 0.4);
    box-shadow:
        0 0 15px rgba(60, 140, 255, 0.3),
        inset 0 0 15px rgba(60, 140, 255, 0.1);
    animation: ring-rush 1.2s linear infinite;
}

.warp-ring-1 { width: 40px; height: 40px; animation-delay: 0s; border-color: rgba(100, 180, 255, 0.6); }
.warp-ring-2 { width: 40px; height: 40px; animation-delay: 0.24s; border-color: rgba(80, 160, 255, 0.5); }
.warp-ring-3 { width: 40px; height: 40px; animation-delay: 0.48s; border-color: rgba(60, 140, 255, 0.4); }
.warp-ring-4 { width: 40px; height: 40px; animation-delay: 0.72s; border-color: rgba(40, 120, 255, 0.3); }
.warp-ring-5 { width: 40px; height: 40px; animation-delay: 0.96s; border-color: rgba(20, 100, 255, 0.2); }

@keyframes ring-rush {
    0% {
        transform: translate(-50%, -50%) scale(0.1);
        opacity: 0;
        border-width: 3px;
    }
    10% {
        opacity: 0.8;
    }
    70% {
        opacity: 0.4;
    }
    100% {
        transform: translate(-50%, -50%) scale(25);
        opacity: 0;
        border-width: 1px;
    }
}

/* Star streaks - radial lines converging to center */
.warp-stars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(ellipse at center,
            transparent 0%,
            transparent 5%,
            rgba(0, 0, 0, 0) 100%),
        repeating-conic-gradient(
            from 0deg,
            transparent 0deg,
            transparent 2.5deg,
            rgba(120, 180, 255, 0.12) 2.7deg,
            transparent 3deg
        );
    animation: stars-spin 4s linear infinite;
}

@keyframes stars-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Speed lines - horizontal streaks */
.warp-lines {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300%;
    height: 300%;
    transform: translate(-50%, -50%);
    background:
        repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 6px,
            rgba(80, 160, 255, 0.08) 6px,
            rgba(80, 160, 255, 0.08) 7px
        ),
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 4px,
            rgba(100, 200, 255, 0.06) 4px,
            rgba(100, 200, 255, 0.06) 5px
        );
    animation: warp-streak 0.15s linear infinite;
    mask-image: radial-gradient(ellipse at center, transparent 5%, black 20%);
    -webkit-mask-image: radial-gradient(ellipse at center, transparent 5%, black 20%);
}

@keyframes warp-streak {
    from { transform: translate(-50%, -50%) scaleX(1) scaleY(1); }
    to { transform: translate(-50%, -50%) scaleX(8) scaleY(3); }
}

/* Entry/exit flash */
.warp-flash-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center,
        rgba(150, 200, 255, 0.9) 0%,
        rgba(80, 140, 255, 0.4) 30%,
        transparent 70%);
    animation: warp-flash-sequence 1.5s ease-out forwards;
    pointer-events: none;
}

@keyframes warp-flash-sequence {
    0% { opacity: 1; transform: scale(0.1); }
    8% { opacity: 0.9; transform: scale(1.5); }
    15% { opacity: 0; transform: scale(2); }
    85% { opacity: 0; transform: scale(0.5); }
    92% { opacity: 0.8; transform: scale(1.2); }
    100% { opacity: 1; transform: scale(3); }
}

/* Jump text */
.warp-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    z-index: 101;
    animation: warp-text-appear 0.4s ease-out forwards;
}

@keyframes warp-text-appear {
    0% { opacity: 0; transform: scale(0.5); letter-spacing: 30px; }
    100% { opacity: 1; transform: scale(1); letter-spacing: 12px; }
}

.warp-text-main {
    font-size: 32px;
    letter-spacing: 12px;
    font-weight: 300;
    color: rgba(150, 200, 255, 0.9);
    text-shadow:
        0 0 30px rgba(80, 160, 255, 0.8),
        0 0 60px rgba(40, 120, 255, 0.5),
        0 0 100px rgba(20, 80, 255, 0.3);
    animation: warp-text-glow 0.8s ease-in-out infinite alternate;
}

@keyframes warp-text-glow {
    0% { opacity: 0.7; text-shadow: 0 0 20px rgba(80, 160, 255, 0.6), 0 0 40px rgba(40, 120, 255, 0.3); }
    100% { opacity: 1; text-shadow: 0 0 40px rgba(80, 160, 255, 1), 0 0 80px rgba(40, 120, 255, 0.6), 0 0 120px rgba(20, 80, 255, 0.4); }
}

.warp-text-sector {
    font-size: 14px;
    letter-spacing: 6px;
    color: rgba(100, 180, 255, 0.6);
    text-transform: uppercase;
    font-weight: 400;
    animation: sector-fade 0.6s 0.3s ease-out both;
}

@keyframes sector-fade {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 0.7; transform: translateY(0); }
}

/* =============================================
   Modal Base Styles
   ============================================= */

.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 200;
    backdrop-filter: blur(5px);
}

/* Price ticker */
.station-traffic {
    width: 100%;
    height: 20px;
    overflow: hidden;
    background: rgba(0, 0, 0, 0.4);
    border-bottom: 1px solid rgba(0, 255, 255, 0.05);
    display: flex;
    align-items: center;
    padding: 0 10px;
    gap: 8px;
}

.traffic-log {
    display: flex;
    gap: 15px;
    font-size: 9px;
    letter-spacing: 0.5px;
    color: rgba(150, 170, 190, 0.6);
    white-space: nowrap;
    overflow: hidden;
}

.traffic-entry {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    animation: traffic-fade 0.5s ease-out;
}

.traffic-entry .traffic-action {
    color: rgba(100, 200, 200, 0.7);
    font-weight: bold;
    text-transform: uppercase;
}

.traffic-entry .traffic-ship {
    color: rgba(200, 220, 240, 0.8);
}

.traffic-entry.dock .traffic-action { color: rgba(100, 200, 100, 0.7); }
.traffic-entry.undock .traffic-action { color: rgba(200, 150, 100, 0.7); }

@keyframes traffic-fade {
    from { opacity: 0; transform: translateY(-8px); }
    to { opacity: 1; transform: translateY(0); }
}

.price-ticker {
    width: 100%;
    overflow: hidden;
    background: rgba(0, 0, 0, 0.5);
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    height: 22px;
    position: relative;
}

.price-ticker-track {
    display: flex;
    gap: 30px;
    white-space: nowrap;
    animation: ticker-scroll 30s linear infinite;
    position: absolute;
    top: 3px;
}

.ticker-item {
    font-size: 10px;
    letter-spacing: 0.5px;
    color: rgba(180, 200, 220, 0.7);
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.ticker-item .ticker-name {
    color: rgba(200, 220, 240, 0.9);
}

.ticker-item .ticker-price {
    color: #aabbcc;
    font-weight: bold;
}

.ticker-item .ticker-change.up {
    color: #44ff88;
}

.ticker-item .ticker-change.down {
    color: #ff4444;
}

.ticker-item .ticker-change.flat {
    color: #888888;
}

@keyframes ticker-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}

#station-ambient-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    opacity: 0.6;
}

.modal-content {
    position: relative;
    z-index: 1;
    width: 85%;
    max-width: 950px;
    height: 85%;
    max-height: 650px;
    background: var(--panel-bg);
    border: 2px solid var(--panel-border);
    border-radius: 8px;
    box-shadow:
        0 0 80px var(--glow-cyan-soft),
        0 20px 60px rgba(0, 0, 0, 0.5),
        inset 0 0 100px var(--panel-inner-glow);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 25px;
    border-bottom: 1px solid var(--panel-border);
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
}

.modal-header span {
    font-size: 20px;
    letter-spacing: 4px;
    text-shadow: 0 0 25px var(--glow-cyan);
    text-transform: uppercase;
}

.modal-close, #undock-btn {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0.05) 100%);
    border: 1px solid var(--primary-cyan);
    color: var(--primary-cyan);
    padding: 10px 25px;
    font-size: 12px;
    letter-spacing: 3px;
    cursor: pointer;
    transition: all var(--transition-normal);
    border-radius: 4px;
    text-transform: uppercase;
}

.modal-close:hover, #undock-btn:hover {
    background: var(--primary-cyan);
    color: #000;
    box-shadow: 0 0 25px var(--glow-cyan);
}

.modal-tabs {
    display: flex;
    border-bottom: 1px solid var(--panel-border);
    background: rgba(0, 0, 0, 0.2);
}

.tab-btn {
    flex: 1;
    padding: 14px 20px;
    background: none;
    border: none;
    border-bottom: 3px solid transparent;
    color: var(--text-secondary);
    font-size: 11px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all var(--transition-normal);
    text-transform: uppercase;
}

.tab-btn:hover {
    background: rgba(0, 255, 255, 0.05);
    color: var(--text-primary);
}

.tab-btn.active {
    color: var(--primary-cyan);
    border-bottom-color: var(--primary-cyan);
    background: rgba(0, 255, 255, 0.1);
    text-shadow: 0 0 10px var(--glow-cyan-soft);
}

.modal-body {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
    animation: tab-fade-in 0.3s ease-out;
}

@keyframes tab-fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.tab-content h3 {
    font-size: 13px;
    letter-spacing: 3px;
    color: var(--text-secondary);
    margin-bottom: 18px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--panel-border);
    text-transform: uppercase;
}

/* Shop Items */
.shop-item, .cargo-item, .hangar-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 18px;
    margin-bottom: 10px;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 20, 40, 0.3) 100%);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    transition: all var(--transition-normal);
}

.shop-item:hover, .cargo-item:hover, .hangar-item:hover {
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 100, 150, 0.1) 100%);
    border-color: var(--panel-border-bright);
    transform: translateX(5px);
}

.item-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.item-name {
    font-size: 14px;
    color: var(--text-primary);
}

.item-desc {
    font-size: 10px;
    color: var(--text-dim);
    letter-spacing: 0.5px;
}

.item-price {
    color: #ffdd44;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(255, 221, 68, 0.4);
}

.buy-btn, .sell-btn, .board-btn {
    padding: 8px 18px;
    font-size: 11px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all var(--transition-normal);
    border-radius: 3px;
    text-transform: uppercase;
}

.buy-btn {
    background: linear-gradient(180deg, rgba(68, 255, 68, 0.2) 0%, rgba(68, 255, 68, 0.05) 100%);
    border: 1px solid var(--friendly-color);
    color: var(--friendly-color);
}

.buy-btn:hover {
    background: var(--friendly-color);
    color: #000;
    box-shadow: 0 0 20px rgba(68, 255, 68, 0.4);
}

.sell-btn {
    background: linear-gradient(180deg, rgba(255, 170, 68, 0.2) 0%, rgba(255, 170, 68, 0.05) 100%);
    border: 1px solid #ffaa44;
    color: #ffaa44;
}

.sell-btn:hover {
    background: #ffaa44;
    color: #000;
    box-shadow: 0 0 20px rgba(255, 170, 68, 0.4);
}

/* =============================================
   D-Scan Panel
   ============================================= */

#dscan-panel {
    position: absolute;
    top: 20px;
    left: 310px;
    width: 350px;
}

#dscan-controls {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 8px;
}

.dscan-slider-row {
    display: flex;
    align-items: center;
    gap: 8px;
}

.dscan-label {
    font-size: 9px;
    color: rgba(100, 180, 220, 0.6);
    letter-spacing: 1px;
    width: 45px;
    flex-shrink: 0;
}

.dscan-value {
    font-size: 11px;
    color: var(--text-primary);
    font-family: 'Courier New', monospace;
    width: 60px;
    text-align: right;
    flex-shrink: 0;
}

#dscan-controls input[type="range"] {
    flex: 1;
    accent-color: var(--primary-cyan);
    cursor: pointer;
    height: 4px;
}

.dscan-button-row {
    display: flex;
    gap: 4px;
    margin-top: 4px;
}

.dscan-scan-btn {
    flex: 1;
    padding: 8px 12px;
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.15) 0%, rgba(0, 255, 255, 0.05) 100%);
    border: 1px solid var(--primary-cyan);
    color: var(--primary-cyan);
    font-size: 11px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all var(--transition-normal);
    border-radius: 3px;
}

.dscan-scan-btn:hover {
    background: var(--primary-cyan);
    color: #000;
    box-shadow: 0 0 20px var(--glow-cyan);
}

.dscan-scan-btn:active {
    transform: scale(0.97);
}

.dscan-scan-btn.scanning {
    animation: dscan-pulse 0.5s ease-out;
}

@keyframes dscan-pulse {
    0% { box-shadow: 0 0 5px var(--glow-cyan); }
    50% { box-shadow: 0 0 25px var(--glow-cyan), 0 0 50px rgba(0, 255, 255, 0.3); }
    100% { box-shadow: 0 0 5px var(--glow-cyan); }
}

.dscan-preset-btn {
    padding: 6px 8px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(100, 180, 220, 0.3);
    color: rgba(150, 200, 230, 0.7);
    font-size: 9px;
    cursor: pointer;
    border-radius: 3px;
    transition: all var(--transition-fast);
}

.dscan-preset-btn:hover {
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
    background: rgba(0, 255, 255, 0.1);
}

.dscan-summary {
    font-size: 10px;
    color: rgba(100, 180, 220, 0.5);
    padding: 4px 0;
    text-align: center;
    letter-spacing: 1px;
}

.dscan-results-wrap {
    max-height: 250px;
    overflow-y: auto;
}

.dscan-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 11px;
}

.dscan-table thead th {
    font-size: 9px;
    color: rgba(100, 180, 220, 0.5);
    text-align: left;
    padding: 3px 4px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.15);
    letter-spacing: 0.5px;
}

.dscan-table tbody tr {
    cursor: pointer;
    transition: background var(--transition-fast);
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
}

.dscan-table tbody tr:hover {
    background: rgba(0, 255, 255, 0.08);
}

.dscan-table td {
    padding: 4px;
}

.dscan-icon {
    width: 16px;
    text-align: center;
}

.dscan-name {
    color: var(--text-primary);
    max-width: 140px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.dscan-type {
    color: var(--text-dim);
    font-size: 10px;
    text-transform: uppercase;
}

.dscan-dist {
    color: var(--text-secondary);
    text-align: right;
    font-family: 'Courier New', monospace;
    font-size: 10px;
}

tr.dscan-hostile .dscan-name { color: #ff6666; }
tr.dscan-friendly .dscan-name { color: #66ff88; }
tr.dscan-player .dscan-name { color: var(--primary-cyan); }

/* =============================================
   Bookmarks Panel
   ============================================= */

#bookmarks-panel {
    position: absolute;
    top: 20px;
    left: 310px;
    width: 280px;
}

.bookmark-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    margin-bottom: 6px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--panel-border);
    border-radius: 3px;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.bookmark-item:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--panel-border-bright);
    transform: translateX(3px);
}

.bookmark-name {
    font-size: 12px;
}

.bookmark-delete {
    background: none;
    border: none;
    color: var(--text-dim);
    cursor: pointer;
    font-size: 16px;
    transition: all var(--transition-fast);
    padding: 4px 8px;
    border-radius: 3px;
}

.bookmark-delete:hover {
    color: var(--hostile-color);
    background: rgba(255, 68, 68, 0.1);
}

/* =============================================
   Scrollbar Styling
   ============================================= */

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--dark-cyan) 0%, #004444 100%);
    border-radius: 4px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--primary-cyan) 0%, var(--dark-cyan) 100%);
}

/* =============================================
   Floating Damage Numbers
   ============================================= */

.damage-number {
    position: absolute;
    font-size: 18px;
    font-weight: bold;
    pointer-events: none;
    animation: damage-float 1.5s ease-out forwards;
    z-index: 50;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
}

.damage-number.shield {
    color: var(--shield-color);
    text-shadow: 0 0 10px var(--shield-glow);
}
.damage-number.armor {
    color: var(--armor-color);
    text-shadow: 0 0 10px var(--armor-glow);
}
.damage-number.hull {
    color: var(--hull-color);
    text-shadow: 0 0 10px var(--hull-glow);
}
.damage-number.heal {
    color: var(--friendly-color);
    text-shadow: 0 0 10px rgba(68, 255, 68, 0.6);
}

.damage-number.crit {
    animation: damage-float-crit 1.5s ease-out forwards;
    text-shadow: 0 0 15px currentColor, 0 0 30px currentColor;
}

.damage-direction {
    position: fixed;
    width: 8px;
    height: 30px;
    background: linear-gradient(to bottom, rgba(255, 40, 40, 0.8), transparent);
    border-radius: 4px 4px 0 0;
    pointer-events: none;
    z-index: 50;
    animation: dmg-dir-fade 0.8s ease-out forwards;
}

@keyframes dmg-dir-fade {
    0% { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes damage-float {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1.2);
    }
    20% {
        transform: translateY(-10px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-60px) scale(0.6);
    }
}

@keyframes damage-float-crit {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1.8);
    }
    15% {
        transform: translateY(-15px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translateY(-80px) scale(0.7);
    }
}

/* =============================================
   Scanlines Effect (Optional)
   ============================================= */

body.scanlines::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.08) 0px,
        rgba(0, 0, 0, 0.08) 1px,
        transparent 1px,
        transparent 3px
    );
    z-index: 1000;
}

/* =============================================
   Settings Modal Specific
   ============================================= */

.settings-modal {
    max-width: 850px;
    max-height: 720px;
}

.settings-modal .modal-body {
    padding: 0;
}

/* =============================================
   Keybindings Styles
   ============================================= */

.keybindings-header {
    padding: 18px 25px;
    border-bottom: 1px solid var(--panel-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
    background: rgba(0, 0, 0, 0.2);
}

.keybindings-header p {
    font-size: 12px;
    color: var(--text-secondary);
    margin: 0;
}

.keybindings-actions {
    display: flex;
    gap: 12px;
}

.settings-btn {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
    border: 1px solid var(--panel-border);
    color: var(--text-primary);
    padding: 10px 18px;
    font-size: 11px;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all var(--transition-normal);
    border-radius: 4px;
    text-transform: uppercase;
}

.settings-btn:hover {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0.05) 100%);
    border-color: var(--panel-border-bright);
}

.settings-btn.danger {
    border-color: var(--hostile-color);
    color: var(--hostile-color);
}

.settings-btn.danger:hover {
    background: rgba(255, 68, 68, 0.2);
    box-shadow: 0 0 15px rgba(255, 68, 68, 0.3);
}

#keybindings-list {
    padding: 15px 25px 25px;
    max-height: 480px;
    overflow-y: auto;
}

.keybinding-category {
    margin-bottom: 25px;
}

.keybinding-category-title {
    font-size: 13px;
    letter-spacing: 3px;
    color: var(--primary-cyan);
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--panel-border);
    text-shadow: 0 0 15px var(--glow-cyan-soft);
    text-transform: uppercase;
}

.keybinding-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 18px;
    margin-bottom: 6px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid transparent;
    border-radius: 4px;
    transition: all var(--transition-normal);
}

.keybinding-row:hover {
    background: rgba(0, 255, 255, 0.05);
    border-color: var(--panel-border);
}

.keybinding-row.modified {
    border-left: 3px solid var(--armor-color);
}

.keybinding-description {
    flex: 1;
    font-size: 13px;
    color: var(--text-primary);
}

.keybinding-key {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.15) 0%, rgba(0, 255, 255, 0.05) 100%);
    border: 1px solid var(--panel-border);
    padding: 10px 20px;
    min-width: 110px;
    text-align: center;
    font-size: 12px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all var(--transition-normal);
    letter-spacing: 1px;
    border-radius: 4px;
    margin: 0 10px;
}

.keybinding-key:hover {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.25) 0%, rgba(0, 255, 255, 0.1) 100%);
    border-color: var(--panel-border-bright);
    box-shadow: 0 0 15px var(--glow-cyan-soft);
}

.keybinding-reset {
    background: none;
    border: 1px solid transparent;
    color: var(--text-dim);
    font-size: 16px;
    cursor: pointer;
    padding: 6px 10px;
    transition: all var(--transition-fast);
    border-radius: 4px;
    opacity: 0;
}

.keybinding-row:hover .keybinding-reset,
.keybinding-row.modified .keybinding-reset {
    opacity: 1;
}

.keybinding-reset:hover {
    color: var(--hostile-color);
    border-color: var(--hostile-color);
    background: rgba(255, 68, 68, 0.1);
}

/* =============================================
   Key Rebind Overlay
   ============================================= */

#rebind-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.92);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 300;
    backdrop-filter: blur(8px);
}

.rebind-dialog {
    background: var(--panel-bg);
    border: 2px solid var(--armor-color);
    border-radius: 8px;
    padding: 50px 80px;
    text-align: center;
    box-shadow:
        0 0 80px rgba(255, 170, 0, 0.3),
        inset 0 0 60px rgba(255, 170, 0, 0.05);
    animation: rebind-appear 0.3s ease-out;
}

@keyframes rebind-appear {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.rebind-title {
    font-size: 14px;
    color: var(--text-secondary);
    letter-spacing: 3px;
    margin-bottom: 18px;
    text-transform: uppercase;
}

#rebind-action-name {
    font-size: 24px;
    color: var(--primary-cyan);
    text-shadow: 0 0 30px var(--glow-cyan);
    margin-bottom: 25px;
    letter-spacing: 3px;
}

.rebind-hint {
    font-size: 11px;
    color: var(--text-dim);
    letter-spacing: 1px;
}

/* =============================================
   Settings Rows (Audio, Graphics tabs)
   ============================================= */

.settings-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 25px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    transition: background var(--transition-fast);
}

.settings-row:hover {
    background: rgba(0, 255, 255, 0.03);
}

.settings-row label {
    font-size: 14px;
    color: var(--text-primary);
}

.settings-row input[type="range"] {
    width: 220px;
    accent-color: var(--primary-cyan);
    cursor: pointer;
}

.settings-row input[type="checkbox"] {
    width: 22px;
    height: 22px;
    accent-color: var(--primary-cyan);
    cursor: pointer;
}

.settings-row select {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--panel-border);
    color: var(--text-primary);
    padding: 10px 18px;
    font-size: 12px;
    cursor: pointer;
    border-radius: 4px;
    transition: all var(--transition-fast);
}

.settings-row select:hover {
    border-color: var(--panel-border-bright);
}

.settings-row span {
    font-size: 13px;
    color: var(--text-secondary);
    min-width: 60px;
    text-align: right;
}

/* =============================================
   Utility Animations
   ============================================= */

@keyframes pulse-glow {
    0%, 100% {
        box-shadow: 0 0 20px var(--glow-cyan-soft);
    }
    50% {
        box-shadow: 0 0 40px var(--glow-cyan);
    }
}

@keyframes border-flow {
    0% { border-color: var(--primary-cyan); }
    50% { border-color: var(--primary-blue); }
    100% { border-color: var(--primary-cyan); }
}

/* Focus states for accessibility */
button:focus-visible,
input:focus-visible,
select:focus-visible {
    outline: 2px solid var(--primary-cyan);
    outline-offset: 2px;
}

/* =============================================
   Object Viewer Panel
   ============================================= */

#object-viewer {
    position: absolute;
    top: 20px;
    left: 310px;
    width: 300px;
    max-height: 450px;
}

#object-viewer .panel-content {
    max-height: 400px;
    overflow-y: auto;
}

#object-viewer-content {
    font-size: 12px;
}

.viewer-placeholder {
    color: var(--text-dim);
    font-style: italic;
    text-align: center;
    padding: 30px 15px;
    letter-spacing: 0.5px;
}

/* Object header with name and type */
.viewer-header {
    margin-bottom: 15px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--panel-border);
}

.viewer-name {
    font-size: 16px;
    font-weight: bold;
    color: var(--text-primary);
    text-shadow: 0 0 10px var(--glow-cyan-soft);
    margin-bottom: 4px;
}

.viewer-type {
    font-size: 10px;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* Stat sections */
.viewer-section {
    margin-bottom: 15px;
}

.viewer-section-title {
    font-size: 9px;
    letter-spacing: 2px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-bottom: 8px;
    padding-bottom: 4px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

/* Stat rows */
.viewer-stat {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.05);
}

.viewer-stat:last-child {
    border-bottom: none;
}

.viewer-stat-label {
    color: var(--text-secondary);
    font-size: 11px;
}

.viewer-stat-value {
    color: var(--text-primary);
    font-size: 12px;
    font-weight: bold;
    text-align: right;
}

/* Color-coded values */
.viewer-stat-value.hostile { color: var(--hostile-color); }
.viewer-stat-value.friendly { color: var(--friendly-color); }
.viewer-stat-value.neutral { color: var(--neutral-color); }
.viewer-stat-value.warning { color: var(--armor-color); }

/* Mini health bars in viewer */
.viewer-bars {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: 8px;
}

.viewer-bar-row {
    display: flex;
    align-items: center;
    gap: 10px;
}

.viewer-bar-label {
    width: 60px;
    font-size: 9px;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.viewer-bar-container {
    flex: 1;
    height: 12px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.viewer-bar {
    height: 100%;
    transition: width 0.3s ease-out;
}

.viewer-bar.shield {
    background: linear-gradient(180deg, var(--shield-color) 0%, #0066aa 100%);
    box-shadow: 0 0 8px var(--shield-glow);
}

.viewer-bar.armor {
    background: linear-gradient(180deg, var(--armor-color) 0%, #cc6600 100%);
    box-shadow: 0 0 8px var(--armor-glow);
}

.viewer-bar.hull {
    background: linear-gradient(180deg, var(--hull-color) 0%, #aa0000 100%);
    box-shadow: 0 0 8px var(--hull-glow);
}

/* Locked indicator */
.viewer-locked-badge {
    display: inline-block;
    background: linear-gradient(180deg, rgba(255, 68, 68, 0.3) 0%, rgba(255, 68, 68, 0.1) 100%);
    border: 1px solid var(--hostile-color);
    color: var(--hostile-color);
    font-size: 9px;
    letter-spacing: 2px;
    padding: 4px 10px;
    border-radius: 3px;
    margin-left: 10px;
    text-transform: uppercase;
    animation: pulse-glow-red 2s ease-in-out infinite;
}

@keyframes pulse-glow-red {
    0%, 100% { box-shadow: 0 0 10px rgba(255, 68, 68, 0.3); }
    50% { box-shadow: 0 0 20px rgba(255, 68, 68, 0.5); }
}

/* =============================================
   Panel Drag System
   ============================================= */

/* Panel being dragged */
.panel.dragging {
    opacity: 0.9;
    z-index: 100;
    box-shadow:
        0 0 50px rgba(0, 200, 255, 0.4),
        0 10px 40px rgba(0, 0, 0, 0.5);
}

.panel.dragging .panel-header {
    cursor: grabbing;
}

/* Panel resize handle styling */
.panel::-webkit-resizer {
    background: linear-gradient(135deg, transparent 60%, rgba(0, 255, 255, 0.2) 60%, rgba(0, 255, 255, 0.2) 75%, transparent 75%, transparent 85%, rgba(0, 255, 255, 0.15) 85%);
}

#overview-panel::after,
#event-log::after {
    content: '';
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 10px;
    height: 10px;
    border-right: 2px solid rgba(0, 255, 255, 0.3);
    border-bottom: 2px solid rgba(0, 255, 255, 0.3);
    pointer-events: none;
}

/* =============================================
   Cargo Display
   ============================================= */

#cargo-display {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 8px 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(136, 136, 136, 0.3);
    border-radius: 3px;
    margin-left: 20px;
}

#cargo-display .label {
    font-size: 9px;
    color: var(--text-dim);
    letter-spacing: 2px;
    text-transform: uppercase;
}

.cargo-bar-container {
    position: relative;
    width: 120px;
    height: 14px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.cargo-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(180deg, #888888 0%, #555555 100%);
    transition: width 0.3s, background 0.3s;
}

.cargo-bar.warning {
    background: linear-gradient(180deg, var(--armor-color) 0%, #cc6600 100%);
}

.cargo-bar.full {
    background: linear-gradient(180deg, var(--hostile-color) 0%, #aa0000 100%);
}

#cargo-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 9px;
    color: var(--text-secondary);
    text-shadow: 0 0 3px black;
    white-space: nowrap;
}

/* =============================================
   Locked Targets Display (Eve-style)
   ============================================= */

#locked-targets-container {
    position: absolute;
    top: 20px;
    left: 320px;
    z-index: 20;
    min-width: 100px;
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
}

#locked-targets-container .panel-header {
    padding: 4px 8px;
    min-height: auto;
}

#locked-targets-container .panel-title {
    font-size: 9px;
}

.locked-targets-content {
    display: flex;
    gap: 10px;
    padding: 8px;
    flex-wrap: wrap;
}

/* Hide the container when empty (no locked targets) */
#locked-targets-container:not(:has(.locked-target-icon)) {
    display: none;
}

.locked-target-icon {
    width: 70px;
    height: 70px;
    position: relative;
    cursor: pointer;
    transition: transform 0.2s;
}

.locked-target-icon:hover {
    transform: scale(1.1);
}

.locked-target-icon.selected {
    transform: scale(1.15);
}

.locked-target-ring {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 3px solid transparent;
    box-sizing: border-box;
}

.locked-target-ring.shield {
    border-color: var(--shield-color);
    box-shadow: 0 0 10px var(--shield-glow), inset 0 0 10px var(--shield-glow);
}

.locked-target-ring.armor {
    width: 85%;
    height: 85%;
    top: 7.5%;
    left: 7.5%;
    border-color: var(--armor-color);
    box-shadow: 0 0 8px var(--armor-glow), inset 0 0 8px var(--armor-glow);
}

.locked-target-ring.hull {
    width: 70%;
    height: 70%;
    top: 15%;
    left: 15%;
    border-color: var(--hull-color);
    box-shadow: 0 0 6px var(--hull-glow), inset 0 0 6px var(--hull-glow);
}

/* Asteroid-specific styles - outline ring with ore amount */
.locked-target-icon.asteroid {
    background: transparent;
}

.locked-target-ring.asteroid-outline {
    border-color: #ffaa44;
    box-shadow: 0 0 8px rgba(255, 170, 68, 0.5), inset 0 0 8px rgba(255, 170, 68, 0.2);
    animation: asteroid-pulse 2s ease-in-out infinite;
}

@keyframes asteroid-pulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
}

.locked-target-ore-amount {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px;
    font-weight: bold;
    color: #ffcc66;
    text-shadow: 0 0 8px rgba(255, 170, 68, 0.8), 0 0 4px rgba(0, 0, 0, 0.8);
    font-family: 'Orbitron', monospace;
}

.locked-target-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 30px;
    height: 30px;
    background: rgba(0, 20, 40, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    color: var(--text-primary);
    text-shadow: 0 0 5px var(--glow-cyan);
}

.locked-target-name {
    position: absolute;
    bottom: -18px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 9px;
    color: var(--text-secondary);
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 80px;
    overflow: hidden;
    text-align: center;
}

.locked-target-distance {
    position: absolute;
    top: -14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 8px;
    color: var(--text-dim);
    white-space: nowrap;
}

/* =============================================
   Ship Status Indicator
   ============================================= */

#ship-indicator {
    position: absolute;
    bottom: 185px;
    left: 20px;
    z-index: 20;
    width: 160px;
}

#ship-indicator .panel-header {
    padding: 4px 8px;
    min-height: auto;
}

#ship-indicator .panel-title {
    font-size: 9px;
}

.ship-indicator-content {
    padding: 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

#ship-indicator-canvas {
    width: 140px;
    height: 120px;
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: 2px;
    background: #000a14;
}

.ship-indicator-info {
    text-align: center;
    width: 100%;
}

.ship-indicator-name {
    font-size: 10px;
    color: var(--primary-cyan);
    text-shadow: 0 0 5px var(--glow-cyan);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ship-indicator-class {
    font-size: 8px;
    color: var(--text-secondary);
    text-transform: uppercase;
}

#ship-indicator-health {
    display: flex;
    gap: 3px;
    width: 100%;
}

#ship-indicator-health .mini-bar-group {
    flex: 1;
    height: 8px;
    position: relative;
}

.bar-pct {
    position: absolute;
    right: 2px;
    top: -1px;
    font-size: 7px;
    line-height: 10px;
    color: rgba(255, 255, 255, 0.7);
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.9);
    pointer-events: none;
    font-family: var(--font-mono);
}

/* =============================================
   Drone Quick Action Bar
   ============================================= */

#drone-bar {
    position: absolute;
    bottom: 185px; /* Above the bottom bar */
    left: 140px;
    z-index: 20;
    min-width: 150px;
}

#drone-bar .panel-header {
    padding: 4px 8px;
    min-height: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#drone-bar .panel-title {
    font-size: 9px;
}

.drone-count {
    font-size: 9px;
    color: var(--text-secondary);
}

.drone-bar-content {
    padding: 8px;
}

.drone-commands {
    display: flex;
    gap: 6px;
    margin-bottom: 6px;
}

.drone-cmd-btn {
    width: 32px;
    height: 32px;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 14px;
    cursor: pointer;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
}

.drone-cmd-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
}

.drone-cmd-btn:active {
    transform: scale(0.95);
}

.drone-cmd-btn.active {
    background: rgba(0, 255, 255, 0.3);
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
    box-shadow: 0 0 10px var(--glow-cyan);
}

.drone-status {
    font-size: 10px;
    color: var(--text-dim);
    text-align: center;
}

/* =============================================
   Performance Monitor
   ============================================= */

#performance-monitor {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 30;
    width: 200px;
    font-family: 'Courier New', monospace;
}

#performance-monitor .panel-header {
    padding: 4px 8px;
    min-height: auto;
}

#performance-monitor .panel-title {
    font-size: 9px;
}

.perf-content {
    padding: 8px;
}

.perf-section {
    margin-bottom: 8px;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.perf-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.perf-label {
    font-size: 8px;
    color: var(--text-dim);
    letter-spacing: 1px;
    margin-bottom: 2px;
}

.perf-row {
    display: flex;
    align-items: baseline;
    gap: 6px;
}

.perf-stat {
    font-size: 16px;
    color: var(--primary-cyan);
    text-shadow: 0 0 5px var(--glow-cyan);
}

.perf-unit {
    font-size: 10px;
    color: var(--text-secondary);
}

.perf-detail {
    font-size: 10px;
    color: var(--text-dim);
}

/* =============================================
   Warning Flash System
   ============================================= */

.status-bar.warning-flash {
    animation: warning-pulse 0.3s ease-in-out;
}

@keyframes warning-pulse {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(2); }
}

.bar-container.critical {
    animation: critical-pulse 0.5s ease-in-out infinite;
}

@keyframes critical-pulse {
    0%, 100% {
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
    }
    50% {
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5), 0 0 20px var(--hull-glow);
    }
}

/* Being targeted warning */
#being-targeted-warning {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 0, 0, 0.2);
    border: 2px solid var(--hostile-color);
    color: var(--hostile-color);
    padding: 15px 30px;
    font-size: 14px;
    letter-spacing: 3px;
    text-transform: uppercase;
    border-radius: 4px;
    z-index: 1000;
    animation: target-warning-pulse 0.5s ease-in-out infinite;
    pointer-events: none;
}

@keyframes target-warning-pulse {
    0%, 100% {
        opacity: 0.8;
        box-shadow: 0 0 30px rgba(255, 68, 68, 0.5);
    }
    50% {
        opacity: 1;
        box-shadow: 0 0 60px rgba(255, 68, 68, 0.8);
    }
}

/* =============================================
   Module Cycle Ring (Circular Progress)
   ============================================= */

.module-slot {
    position: relative;
}

.module-cycle-ring {
    position: absolute;
    top: -3px;
    left: -3px;
    width: calc(100% + 6px);
    height: calc(100% + 6px);
    border-radius: 50%;
    pointer-events: none;
    z-index: 5;
}

.module-cycle-ring svg {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.module-cycle-ring circle {
    fill: none;
    stroke: var(--primary-cyan);
    stroke-width: 3;
    stroke-linecap: round;
    stroke-dasharray: 157;
    stroke-dashoffset: 157;
    transition: stroke-dashoffset 0.1s linear;
    filter: drop-shadow(0 0 4px var(--glow-cyan));
}

.module-slot.active .module-cycle-ring circle {
    animation: cycle-progress var(--cycle-time, 2s) linear infinite;
}

@keyframes cycle-progress {
    from { stroke-dashoffset: 157; }
    to { stroke-dashoffset: 0; }
}

/* =============================================
   Module Tooltips
   ============================================= */

.module-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--panel-bg-solid);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    padding: 10px 12px;
    min-width: 180px;
    z-index: 200;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s;
    margin-bottom: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

.module-slot:hover .module-tooltip {
    opacity: 1;
}

.module-tooltip-name {
    font-size: 12px;
    color: var(--text-primary);
    margin-bottom: 8px;
    text-shadow: 0 0 10px var(--glow-cyan-soft);
}

.module-tooltip-stat {
    display: flex;
    justify-content: space-between;
    font-size: 10px;
    margin-bottom: 4px;
}

.module-tooltip-stat .label {
    color: var(--text-dim);
}

.module-tooltip-stat .value {
    color: var(--text-secondary);
}

.module-tooltip-stat .value.damage {
    color: var(--hostile-color);
}

.module-tooltip-stat .value.capacitor {
    color: var(--capacitor-color);
}

/* =============================================
   Overview Enhanced Columns
   ============================================= */

#overview-table th.col-icon,
#overview-table td.col-icon {
    width: 30px;
    text-align: center;
}

#overview-table th.col-name,
#overview-table td.col-name {
    min-width: 80px;
}

#overview-table th.col-type,
#overview-table td.col-type {
    width: 60px;
}

#overview-table th.col-dist,
#overview-table td.col-dist {
    width: 70px;
}

#overview-table th.col-vel,
#overview-table td.col-vel {
    width: 55px;
    color: var(--text-dim);
}

#overview-table th.col-ang,
#overview-table td.col-ang {
    width: 50px;
    color: var(--text-dim);
    font-size: 9px;
}

/* Overview sortable column headers */
#overview-table th.sortable {
    cursor: pointer;
    user-select: none;
    position: relative;
    padding-right: 16px;
    transition: color 0.15s, background 0.15s;
}

#overview-table th.sortable:hover {
    color: var(--primary-cyan);
    background: rgba(0, 255, 255, 0.08);
}

#overview-table th.sortable::after {
    content: '\2195';
    position: absolute;
    right: 3px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 8px;
    opacity: 0.3;
}

#overview-table th.active-sort {
    color: var(--primary-cyan);
}

#overview-table th.active-sort.sort-asc::after {
    content: '\25B2';
    opacity: 0.8;
}

#overview-table th.active-sort.sort-desc::after {
    content: '\25BC';
    opacity: 0.8;
}

/* =============================================
   D-Scan Cone Visualization
   ============================================= */

.dscan-cone {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
}

/* =============================================
   Range Rings on Minimap
   ============================================= */

.minimap-range-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px dashed;
    opacity: 0.3;
    pointer-events: none;
}

.minimap-range-ring.weapon {
    border-color: var(--hostile-color);
}

.minimap-range-ring.warp {
    border-color: var(--primary-blue);
}

/* =============================================
   Refinery Tab Styles
   ============================================= */

#tab-refinery h3 {
    color: var(--text-primary);
    font-size: 13px;
    letter-spacing: 2px;
    margin-bottom: 15px;
    text-transform: uppercase;
}

.refinery-ore-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--panel-border);
    border-radius: 3px;
    margin-bottom: 8px;
}

.refinery-ore-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.refinery-ore-name {
    font-size: 12px;
    color: var(--text-primary);
}

.refinery-ore-amount {
    font-size: 10px;
    color: var(--text-dim);
}

.refinery-ore-value {
    font-size: 14px;
    color: #ffdd44;
    text-shadow: 0 0 10px rgba(255, 221, 68, 0.5);
}

#refinery-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.1) 0%, rgba(0, 255, 255, 0.02) 100%);
    border: 1px solid var(--panel-border);
    border-radius: 3px;
    margin: 15px 0;
}

#refinery-total .label {
    font-size: 12px;
    color: var(--text-secondary);
    letter-spacing: 2px;
    text-transform: uppercase;
}

#refinery-total .value {
    font-size: 18px;
    color: #ffdd44;
    text-shadow: 0 0 15px rgba(255, 221, 68, 0.6);
    font-weight: bold;
}

#sell-all-ore-btn {
    width: 100%;
    padding: 12px;
    font-size: 12px;
    letter-spacing: 2px;
}

#sell-all-ore-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* =============================================
   Ship Menu Modal Styles
   ============================================= */

.ship-menu-modal {
    max-width: 900px;
    max-height: 650px;
}

.ship-menu-modal .modal-body {
    padding: 0;
}

.ship-stats-layout {
    display: flex;
    gap: 25px;
    padding: 25px;
    height: 100%;
}

.ship-viewer-container {
    width: 320px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#ship-viewer-canvas {
    width: 300px;
    height: 300px;
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    background: #000a14;
}

.ship-viewer-name {
    margin-top: 15px;
    font-size: 18px;
    letter-spacing: 3px;
    color: var(--text-primary);
    text-shadow: 0 0 15px var(--glow-cyan);
    text-transform: uppercase;
}

.ship-info-columns {
    flex: 1;
    display: flex;
    gap: 25px;
    overflow-y: auto;
}

.ship-stats-column,
.ship-modules-column {
    flex: 1;
    min-width: 200px;
}

.ship-stats-column h3,
.ship-modules-column h3,
#ship-tab-inventory h3 {
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--text-secondary);
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--panel-border);
    text-transform: uppercase;
}

.stat-section {
    margin-bottom: 20px;
}

.stat-section h4 {
    font-size: 10px;
    letter-spacing: 2px;
    color: var(--text-dim);
    margin-bottom: 10px;
    text-transform: uppercase;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.05);
}

.stat-label {
    color: var(--text-secondary);
    font-size: 12px;
}

.stat-value {
    color: var(--text-primary);
    font-size: 12px;
    font-weight: bold;
}

.stat-value.shield { color: var(--shield-color); }
.stat-value.armor { color: var(--armor-color); }
.stat-value.hull { color: var(--hull-color); }
.stat-value.capacitor { color: var(--capacitor-color); }

/* Modules List */
.modules-section {
    margin-bottom: 15px;
}

.modules-section h4 {
    font-size: 9px;
    letter-spacing: 2px;
    color: var(--text-dim);
    margin-bottom: 8px;
    text-transform: uppercase;
}

.module-item {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 8px 10px;
    margin-bottom: 6px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: 3px;
    transition: all var(--transition-fast);
}

.module-item.active {
    border-color: var(--friendly-color);
    background: rgba(68, 255, 68, 0.1);
}

.module-item.empty {
    opacity: 0.4;
}

.module-slot-label {
    font-size: 9px;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.module-name {
    font-size: 11px;
    color: var(--text-primary);
}

.module-stat {
    font-size: 10px;
    color: var(--text-secondary);
}

/* Inventory Tab */
#ship-tab-inventory {
    padding: 25px;
}

.inventory-empty {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-dim);
}

.inventory-empty p {
    margin-bottom: 10px;
}

.inventory-hint {
    font-size: 11px;
    font-style: italic;
}

.inventory-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    margin-bottom: 20px;
    font-size: 12px;
}

.inventory-total-value {
    color: #ffdd44;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(255, 221, 68, 0.5);
}

.inventory-items {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.inventory-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    transition: all var(--transition-normal);
}

.inventory-item:hover {
    background: rgba(0, 255, 255, 0.05);
    border-color: var(--panel-border-bright);
}

.inventory-item-icon {
    width: 30px;
    height: 30px;
    border-radius: 4px;
    flex-shrink: 0;
}

.inventory-item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.inventory-item-name {
    font-size: 13px;
    color: var(--text-primary);
}

.inventory-item-amount {
    font-size: 10px;
    color: var(--text-dim);
}

.inventory-item-value {
    font-size: 14px;
    color: #ffdd44;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(255, 221, 68, 0.4);
}

/* =============================================
   Ship Menu - Drones Tab Styles
   ============================================= */

#ship-tab-drones {
    padding: 15px;
}

.drones-empty {
    text-align: center;
    padding: 40px;
    color: var(--text-dim);
}

.drones-empty p {
    margin: 8px 0;
}

.drones-hint {
    font-size: 11px;
    color: var(--text-dim);
}

.drones-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--panel-border);
}

.drones-header h3 {
    margin: 0;
    font-size: 14px;
    color: var(--text-primary);
}

.drones-count {
    font-size: 12px;
    color: var(--primary-cyan);
}

.drones-bandwidth {
    font-size: 11px;
    color: var(--text-dim);
    margin-bottom: 12px;
}

.drones-actions {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.drone-mass-action-btn {
    flex: 1;
    padding: 8px 16px;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 11px;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.drone-mass-action-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
}

.drones-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.drone-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px;
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    transition: all var(--transition-fast);
}

.drone-item:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: var(--primary-cyan);
}

.drone-item.deployed {
    border-color: rgba(0, 255, 0, 0.5);
    background: rgba(0, 255, 0, 0.1);
}

.drone-item-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    color: var(--primary-cyan);
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

.drone-item.deployed .drone-item-icon {
    color: #00ff88;
}

.drone-item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.drone-item-name {
    font-size: 12px;
    color: var(--text-primary);
}

.drone-item-status {
    font-size: 9px;
    letter-spacing: 1px;
    color: var(--text-dim);
}

.drone-item.deployed .drone-item-status {
    color: #00ff88;
}

.drone-item-hp {
    width: 80px;
    height: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    position: relative;
    overflow: hidden;
}

.drone-hp-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--hull-color), var(--hull-glow));
    transition: width 0.3s ease;
}

.drone-hp-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 8px;
    color: var(--text-primary);
    white-space: nowrap;
}

.drone-action-btn {
    padding: 6px 12px;
    background: rgba(0, 255, 255, 0.15);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 10px;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.drone-action-btn:hover {
    background: rgba(0, 255, 255, 0.3);
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
}

.drone-item.deployed .drone-action-btn {
    background: rgba(255, 100, 100, 0.15);
    border-color: rgba(255, 100, 100, 0.3);
}

.drone-item.deployed .drone-action-btn:hover {
    background: rgba(255, 100, 100, 0.3);
    border-color: rgba(255, 100, 100, 0.5);
    color: #ff6666;
}

.drone-empty-slots {
    text-align: center;
    padding: 15px;
    color: var(--text-dim);
    font-size: 11px;
    font-style: italic;
    border: 1px dashed var(--panel-border);
    border-radius: 4px;
}

/* =============================================
   Sector Map Modal Styles
   ============================================= */

.map-modal {
    max-width: 1000px;
    max-height: 700px;
}

.map-modal .modal-body {
    padding: 0;
}

.map-modal-body {
    height: calc(100% - 90px);
}

.map-modal-body .tab-content {
    height: 100%;
    position: relative;
}

.map-canvas-container {
    width: 100%;
    height: 100%;
    position: relative;
}

#local-map-canvas,
#universe-map-canvas {
    width: 100%;
    height: 100%;
    display: block;
}

/* Map Controls */
.map-controls {
    position: absolute;
    top: 15px;
    right: 15px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 10;
}

.map-control-btn {
    width: 36px;
    height: 36px;
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.2) 0%, rgba(0, 255, 255, 0.05) 100%);
    border: 1px solid var(--panel-border);
    color: var(--text-primary);
    font-size: 18px;
    cursor: pointer;
    transition: all var(--transition-fast);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.map-control-btn:hover {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.35) 0%, rgba(0, 255, 255, 0.15) 100%);
    border-color: var(--panel-border-bright);
    box-shadow: 0 0 15px var(--glow-cyan-soft);
}

.map-control-btn:active {
    transform: scale(0.95);
}

/* =============================================
   Miss Indicator
   ============================================= */

.damage-number.miss {
    color: #888888;
    font-style: italic;
    font-size: 14px;
    text-shadow: 0 0 6px rgba(136, 136, 136, 0.5);
}

/* =============================================
   Toast Notifications
   ============================================= */

#toast-container {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 500;
    display: flex;
    flex-direction: column;
    gap: 8px;
    pointer-events: none;
}

.toast {
    background: var(--panel-bg-solid);
    border: 1px solid var(--panel-border);
    border-left: 3px solid var(--primary-cyan);
    padding: 10px 16px;
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 13px;
    font-family: 'Courier New', monospace;
    max-width: 300px;
    animation: toast-in 0.3s ease-out, toast-out 0.3s ease-in 2.7s forwards;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.6), 0 0 20px rgba(0, 255, 255, 0.05);
}

.toast.warning {
    border-left-color: var(--armor-color);
    color: var(--armor-color);
}

.toast.error {
    border-left-color: var(--hull-color);
    color: var(--hull-color);
}

.toast.success {
    border-left-color: var(--friendly-color);
    color: var(--friendly-color);
}

@keyframes toast-in {
    0% {
        opacity: 0;
        transform: translateX(40px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes toast-out {
    0% {
        opacity: 1;
        transform: translateX(0);
    }
    100% {
        opacity: 0;
        transform: translateX(40px);
    }
}

/* =============================================
   Context Menu Animation
   ============================================= */

#context-menu:not(.hidden) {
    animation: context-menu-in 0.12s ease-out;
}

@keyframes context-menu-in {
    0% {
        opacity: 0;
        transform: scale(0.95) translateY(-4px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* =============================================
   STATION VENDOR & FITTING STYLES
   ============================================= */

/* Market filters */
.market-filters {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 0;
    margin-bottom: 8px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.15);
}

.market-filter-select {
    background: rgba(0, 20, 40, 0.8);
    color: var(--text-primary, #e0e0e0);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 3px;
    padding: 4px 8px;
    font-size: 11px;
    font-family: inherit;
    cursor: pointer;
}

.market-filter-select:focus {
    outline: none;
    border-color: rgba(0, 255, 255, 0.6);
}

.filter-count {
    color: var(--text-dim, #666);
    font-size: 10px;
    margin-left: auto;
}

/* Market list */
.market-list {
    max-height: 350px;
    overflow-y: auto;
}

.market-section {
    margin-bottom: 16px;
}

/* Shop items */
.shop-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    cursor: pointer;
    transition: background 0.15s;
}

.shop-item:hover {
    background: rgba(0, 255, 255, 0.05);
}

.shop-item.current-ship {
    border-left: 3px solid rgba(0, 255, 255, 0.6);
    background: rgba(0, 255, 255, 0.03);
}

.shop-item.too-expensive {
    opacity: 0.5;
}

.item-info {
    flex: 1;
    min-width: 0;
}

.item-name {
    font-size: 12px;
    color: var(--text-primary, #e0e0e0);
    font-weight: 500;
}

.item-desc {
    font-size: 10px;
    color: var(--text-dim, #666);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.item-price {
    font-size: 11px;
    color: #ffcc00;
    white-space: nowrap;
}

.item-price-group {
    text-align: right;
    white-space: nowrap;
}

.trade-in-info {
    font-size: 9px;
    color: #44ff88;
}

.current-label {
    font-size: 10px;
    color: rgba(0, 255, 255, 0.6);
    padding: 2px 6px;
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 2px;
}

.buy-btn {
    background: rgba(0, 255, 255, 0.15);
    border: 1px solid rgba(0, 255, 255, 0.4);
    color: #00ffff;
    padding: 4px 10px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 10px;
    font-family: inherit;
    white-space: nowrap;
    transition: all 0.15s;
}

.buy-btn:hover:not(:disabled) {
    background: rgba(0, 255, 255, 0.25);
    border-color: rgba(0, 255, 255, 0.7);
}

.buy-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.buy-btn.large {
    padding: 8px 20px;
    font-size: 12px;
}

.empty-message {
    color: var(--text-dim, #666);
    text-align: center;
    padding: 20px;
    font-size: 11px;
}

/* Ship Detail Panel */
.ship-detail-panel {
    background: rgba(0, 10, 20, 0.9);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    padding: 16px;
    margin-top: 12px;
}

.detail-header-row {
    display: flex;
    gap: 12px;
    align-items: flex-start;
}

.vendor-ship-canvas {
    width: 200px;
    height: 180px;
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 3px;
    background: #000a14;
    flex-shrink: 0;
}

.detail-header-text {
    flex: 1;
    min-width: 0;
}

.detail-header h3 {
    color: #00ffff;
    font-size: 14px;
    margin: 0 0 4px;
}

.detail-role {
    font-size: 10px;
    color: var(--text-dim, #666);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.detail-desc {
    font-size: 11px;
    color: var(--text-secondary, #aaa);
    margin: 6px 0 12px;
}

.detail-stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-bottom: 12px;
}

.detail-stat-group h4 {
    font-size: 10px;
    color: rgba(0, 255, 255, 0.6);
    margin: 0 0 4px;
    letter-spacing: 1px;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    padding: 2px 0;
    color: var(--text-secondary, #aaa);
}

.detail-row span:last-child {
    color: var(--text-primary, #e0e0e0);
}

.detail-bonuses {
    margin-bottom: 12px;
    padding: 8px;
    background: rgba(0, 255, 255, 0.03);
    border-radius: 3px;
}

.detail-bonuses h4 {
    font-size: 10px;
    color: rgba(0, 255, 255, 0.6);
    margin: 0 0 4px;
    letter-spacing: 1px;
}

.detail-bonus {
    font-size: 11px;
    color: var(--text-secondary, #aaa);
    padding: 2px 0;
}

.bonus-value {
    color: #44ff88;
}

.detail-buy-section {
    border-top: 1px solid rgba(0, 255, 255, 0.15);
    padding-top: 10px;
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.detail-price,
.detail-trade-in,
.detail-final-price {
    font-size: 11px;
}

.detail-price .label,
.detail-trade-in .label,
.detail-final-price .label {
    color: var(--text-dim, #666);
    margin-right: 4px;
}

.detail-price .amount {
    color: #ffcc00;
}

.detail-trade-in .amount {
    color: #44ff88;
}

.detail-final-price .amount {
    color: #00ffff;
    font-weight: bold;
}

.current-ship-label {
    color: rgba(0, 255, 255, 0.5);
    font-size: 11px;
}

/* =============================================
   FITTING SCREEN
   ============================================= */

.fitting-container {
    min-height: 300px;
}

.fitting-layout {
    display: flex;
    gap: 16px;
}

.fitting-slots-panel {
    flex: 1;
    min-width: 0;
}

.fitting-right-panel {
    width: 240px;
    flex-shrink: 0;
}

.fitting-section {
    margin-bottom: 12px;
}

.fitting-section-label {
    font-size: 10px;
    color: rgba(0, 255, 255, 0.6);
    letter-spacing: 1px;
    margin-bottom: 4px;
    padding-bottom: 3px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.fitting-slot {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 5px 8px;
    margin: 2px 0;
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.15s;
    font-size: 11px;
}

.fitting-slot:hover {
    background: rgba(0, 255, 255, 0.05);
    border-color: rgba(0, 255, 255, 0.2);
}

.fitting-slot.empty {
    opacity: 0.5;
}

.fitting-slot.empty:hover {
    opacity: 0.8;
}

.fitting-slot.filled {
    border-color: rgba(0, 255, 255, 0.2);
    background: rgba(0, 255, 255, 0.03);
}

.fitting-slot.active {
    border-color: rgba(0, 255, 128, 0.4);
    background: rgba(0, 255, 128, 0.05);
}

.slot-icon {
    font-size: 14px;
    width: 20px;
    text-align: center;
}

.slot-name {
    flex: 1;
    color: var(--text-secondary, #aaa);
}

.fitting-slot.filled .slot-name {
    color: var(--text-primary, #e0e0e0);
}

.slot-unfit {
    background: none;
    border: none;
    color: #ff4444;
    cursor: pointer;
    font-size: 14px;
    padding: 0 4px;
    opacity: 0.5;
    transition: opacity 0.15s;
}

.slot-unfit:hover {
    opacity: 1;
}

/* Fitting Stats */
.fitting-stats {
    margin-bottom: 12px;
}

.fitting-stat-group {
    margin-bottom: 8px;
}

.fitting-stat-group h4 {
    font-size: 9px;
    color: rgba(0, 255, 255, 0.5);
    margin: 0 0 3px;
    letter-spacing: 1px;
}

/* Fitting Inventory */
.fitting-inventory {
    border-top: 1px solid rgba(0, 255, 255, 0.15);
    padding-top: 8px;
}

.fitting-inventory-list {
    max-height: 200px;
    overflow-y: auto;
}

.fitting-inventory-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 6px;
    margin: 2px 0;
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 2px;
    cursor: pointer;
    font-size: 10px;
    transition: all 0.15s;
}

.fitting-inventory-item:hover {
    background: rgba(0, 255, 255, 0.05);
}

.fitting-inventory-item.selected {
    border-color: rgba(0, 255, 255, 0.5);
    background: rgba(0, 255, 255, 0.1);
}

.inv-icon {
    font-size: 12px;
    width: 16px;
    text-align: center;
}

.inv-name {
    flex: 1;
    color: var(--text-secondary, #aaa);
}

.inv-slot {
    font-size: 9px;
    color: var(--text-dim, #666);
    padding: 1px 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 2px;
}

/* =============================================
   MODEL EDITOR MODAL
   ============================================= */

.model-editor-modal {
    max-width: 1300px;
    max-height: 90vh;
    width: 90vw;
    height: 85vh;
    display: flex;
    flex-direction: column;
}

.model-editor-modal .modal-body {
    padding: 0;
    flex: 1;
    min-height: 0;
    overflow: hidden;
}

.model-editor-layout {
    display: flex;
    gap: 0;
    height: 100%;
    min-height: 0;
}

.model-editor-viewports {
    display: flex;
    flex-direction: column;
    gap: 4px;
    background: #000;
    padding: 12px;
    flex: 1;
    min-width: 0;
    min-height: 0;
}

.viewport-label {
    position: absolute;
    top: 6px;
    left: 8px;
    font-size: 9px;
    letter-spacing: 2px;
    color: rgba(0, 255, 255, 0.5);
    z-index: 1;
    pointer-events: none;
    text-transform: uppercase;
}

.viewport-hint {
    font-size: 8px;
    color: rgba(0, 255, 255, 0.3);
    letter-spacing: 0.5px;
    margin-left: 8px;
}

.model-editor-viewport {
    position: relative;
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.model-editor-viewport canvas {
    width: 100%;
    flex: 1;
    min-height: 200px;
    border: 1px solid var(--panel-border);
    border-radius: 3px;
    background: #0a1520;
    display: block;
    cursor: grab;
}

.model-editor-viewport canvas:active {
    cursor: grabbing;
}

.model-editor-controls {
    width: 280px;
    flex-shrink: 0;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    overflow-y: auto;
    border-left: 1px solid var(--panel-border);
}

.editor-control-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.editor-control-group label {
    font-size: 10px;
    letter-spacing: 1px;
    color: var(--text-secondary);
    text-transform: uppercase;
}

.editor-path-row {
    display: flex;
    gap: 6px;
}

.editor-path-row input {
    flex: 1;
    background: rgba(0, 20, 40, 0.8);
    border: 1px solid var(--panel-border);
    border-radius: 3px;
    color: var(--text-primary);
    padding: 5px 8px;
    font-size: 11px;
    font-family: inherit;
}

.editor-path-row input:focus {
    outline: none;
    border-color: var(--panel-border-bright);
}

.editor-model-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
    max-height: 120px;
    overflow-y: auto;
    margin-top: 4px;
}

.editor-model-btn {
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 2px;
    color: var(--text-secondary);
    padding: 4px 8px;
    font-size: 10px;
    font-family: inherit;
    cursor: pointer;
    text-align: left;
    transition: all var(--transition-fast);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.editor-model-btn:hover {
    background: rgba(0, 255, 255, 0.12);
    border-color: var(--panel-border-bright);
    color: var(--text-primary);
}

.editor-model-btn.active {
    border-color: var(--primary-cyan);
    background: rgba(0, 255, 255, 0.15);
    color: var(--primary-cyan);
}

/* Slider styling */
.editor-control-group input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    background: rgba(0, 255, 255, 0.15);
    border-radius: 2px;
    outline: none;
}

.editor-control-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    background: var(--primary-cyan);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 6px var(--glow-cyan);
}

.editor-control-group input[type="range"]::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: var(--primary-cyan);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 0 6px var(--glow-cyan);
}

.editor-buttons {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: auto;
    padding-top: 8px;
    border-top: 1px solid rgba(0, 255, 255, 0.15);
}

.editor-brightness-group {
    border-top: 1px solid rgba(255, 200, 50, 0.2);
    padding-top: 8px;
}

.editor-brightness-group input[type="range"] {
    accent-color: #ffcc33;
}

.editor-status {
    font-size: 10px;
    color: var(--text-dim);
    text-align: center;
    min-height: 14px;
}

.editor-status.success {
    color: var(--friendly-color);
}

/* =============================================
   Fleet Panel Styles
   ============================================= */

#fleet-panel {
    width: 400px;
    max-height: 450px;
}

#fleet-panel .panel-content {
    max-height: 400px;
    overflow-y: auto;
}

.fleet-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 11px;
}

.fleet-table th {
    color: var(--text-dim);
    font-weight: normal;
    text-transform: uppercase;
    font-size: 9px;
    letter-spacing: 0.5px;
    padding: 4px 6px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    text-align: left;
}

.fleet-row {
    cursor: pointer;
    transition: background 0.15s;
}

.fleet-row:hover {
    background: rgba(0, 255, 255, 0.08);
}

.fleet-row.selected {
    background: rgba(0, 255, 255, 0.15);
    border-left: 2px solid var(--primary-cyan);
}

.fleet-commander-row {
    background: linear-gradient(90deg, rgba(255,170,0,0.15) 0%, rgba(255,170,0,0.05) 100%) !important;
    border-left: 2px solid #ffaa00;
}
.fleet-commander-row .fleet-name {
    color: #ffcc44 !important;
    font-weight: bold;
}
.fleet-commander-icon {
    color: #ffaa00;
    margin-right: 4px;
}
.fleet-empty-hint {
    color: var(--text-secondary);
    text-align: center;
    padding: 8px;
    font-style: italic;
}

.fleet-row td {
    padding: 4px 6px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.05);
    white-space: nowrap;
}

.fleet-name {
    color: var(--text-primary);
    font-weight: bold;
    max-width: 90px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.fleet-hp-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-right: 4px;
    vertical-align: middle;
    box-shadow: 0 0 4px currentColor;
}

.fleet-pilot {
    color: var(--text-secondary);
    max-width: 70px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.fleet-state {
    font-size: 10px;
    text-transform: capitalize;
}

.fleet-hp {
    width: 60px;
}

.fleet-hp-bars {
    position: relative;
    height: 10px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 2px;
    overflow: hidden;
}

.fleet-hp-bar {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    transition: width 0.3s;
}

.fleet-hp-bar.shield {
    background: rgba(0, 170, 255, 0.6);
    z-index: 2;
    height: 50%;
}

.fleet-hp-bar.hull {
    background: rgba(255, 68, 68, 0.6);
    z-index: 1;
    top: 50%;
    height: 50%;
}

.fleet-group {
    color: var(--text-dim);
    text-align: center;
    width: 30px;
}

.fleet-commands {
    display: flex;
    gap: 4px;
    padding: 6px 0 2px;
    border-top: 1px solid rgba(0, 255, 255, 0.15);
    margin-top: 4px;
}

.fleet-cmd-btn {
    flex: 1;
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.25);
    color: var(--text-primary);
    padding: 4px 6px;
    font-size: 10px;
    cursor: pointer;
    border-radius: 3px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.15s;
}

.fleet-cmd-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
}

.fleet-formation-btn {
    background: rgba(255, 170, 0, 0.1);
    border-color: rgba(255, 170, 0, 0.3);
    color: #ffaa44;
}

.fleet-formation-btn:hover {
    background: rgba(255, 170, 0, 0.2);
    border-color: #ffaa44;
}

.fleet-empty {
    text-align: center;
    padding: 20px 10px;
    color: var(--text-dim);
    font-size: 12px;
}

.fleet-hint {
    font-size: 10px;
    color: var(--text-dim);
    opacity: 0.6;
    margin-top: 6px;
}

/* Fleet Group Filter Tabs */
.fleet-group-tabs {
    display: flex;
    gap: 2px;
    padding: 2px 0 4px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.15);
    margin-bottom: 4px;
}

.fleet-group-tab {
    flex: 1;
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: var(--text-dim);
    padding: 3px 4px;
    font-size: 9px;
    cursor: pointer;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    transition: all 0.15s;
    text-align: center;
}

.fleet-group-tab:hover {
    background: rgba(0, 255, 255, 0.12);
    color: var(--text-primary);
}

.fleet-group-tab.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
    color: var(--primary-cyan);
}

.fleet-group-tab.empty-group {
    opacity: 0.4;
}

/* Fleet Summary Bar */
.fleet-summary-bar {
    display: flex;
    gap: 8px;
    padding: 3px 4px;
    font-size: 9px;
    color: var(--text-dim);
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
    margin-bottom: 2px;
}

.fleet-stat { white-space: nowrap; }
.mining-stat { color: #ffcc44; }
.combat-stat { color: #ff6644; }

/* Fleet Sortable Headers */
.fleet-sortable {
    cursor: pointer;
    user-select: none;
}

.fleet-sortable:hover {
    color: var(--primary-cyan);
}

/* Fleet Distance Column */
.fleet-dist {
    color: var(--text-dim);
    font-size: 10px;
    text-align: right;
    width: 50px;
}

/* Fleet Detail Expansion Row */
.fleet-row.expanded {
    border-bottom: none;
}

.fleet-detail-row td {
    padding: 0 !important;
    border-bottom: 1px solid rgba(0, 255, 255, 0.12);
}

.fleet-detail {
    background: rgba(0, 0, 0, 0.3);
    padding: 6px 8px;
    border-left: 2px solid rgba(0, 255, 255, 0.3);
}

.fleet-detail-info {
    font-size: 10px;
    color: var(--text-secondary);
    margin-bottom: 4px;
}

.fleet-detail-label {
    color: var(--text-dim);
    text-transform: uppercase;
    font-size: 8px;
    letter-spacing: 0.5px;
}

.fleet-detail-sep {
    color: rgba(255, 255, 255, 0.1);
    margin: 0 6px;
}

.fleet-detail-hp {
    display: flex;
    gap: 10px;
    font-size: 10px;
    margin-bottom: 4px;
}

.fleet-detail-actions {
    display: flex;
    gap: 3px;
    flex-wrap: wrap;
}

.fleet-detail-btn {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: var(--text-primary);
    padding: 2px 6px;
    font-size: 9px;
    cursor: pointer;
    border-radius: 2px;
    text-transform: uppercase;
    transition: all 0.15s;
}

.fleet-detail-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
}

.fleet-stance-btn {
    background: rgba(255, 170, 0, 0.1);
    border-color: rgba(255, 170, 0, 0.25);
    color: #ffaa44;
}

.fleet-stance-btn:hover {
    background: rgba(255, 170, 0, 0.2);
    border-color: #ffaa44;
}

.dim {
    opacity: 0.4;
}

/* =============================================
   Cantina Styles
   ============================================= */

.cantina-section {
    margin-bottom: 16px;
}

.cantina-section-title {
    font-size: 11px;
    color: var(--primary-cyan);
    letter-spacing: 1px;
    text-transform: uppercase;
    padding-bottom: 6px;
    margin-bottom: 10px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.cantina-pilots-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 10px;
}

.pilot-card {
    background: rgba(0, 20, 40, 0.6);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 4px;
    padding: 10px;
    transition: border-color 0.2s;
}

.pilot-card:hover {
    border-color: rgba(0, 255, 255, 0.4);
}

.pilot-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.pilot-name {
    color: var(--text-primary);
    font-weight: bold;
    font-size: 12px;
}

.pilot-salary {
    color: var(--text-dim);
    font-size: 10px;
}

.pilot-skills {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 8px;
}

.pilot-skill {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 10px;
}

.skill-label {
    color: var(--text-dim);
    width: 60px;
    text-transform: uppercase;
    font-size: 9px;
    letter-spacing: 0.5px;
}

.skill-bar-bg {
    flex: 1;
    height: 6px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 3px;
    overflow: hidden;
}

.skill-bar {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s;
}

.skill-bar.combat {
    background: linear-gradient(90deg, #ff4444, #ff8844);
}

.skill-bar.mining {
    background: linear-gradient(90deg, #ffcc44, #88cc44);
}

.skill-bar.navigation {
    background: linear-gradient(90deg, #4488ff, #44ccff);
}

.skill-value {
    color: var(--text-secondary);
    width: 24px;
    text-align: right;
    font-size: 10px;
}

.pilot-traits {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 6px;
}

.pilot-trait {
    font-size: 9px;
    padding: 2px 6px;
    border: 1px solid;
    border-radius: 10px;
    color: var(--text-secondary);
    letter-spacing: 0.3px;
}

.pilot-status {
    font-size: 10px;
    color: var(--text-dim);
    margin-bottom: 6px;
}

.pilot-actions {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.cantina-btn {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.25);
    color: var(--text-primary);
    padding: 4px 10px;
    font-size: 10px;
    cursor: pointer;
    border-radius: 3px;
    text-transform: uppercase;
    transition: all 0.15s;
}

.cantina-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    border-color: var(--primary-cyan);
}

.hire-btn {
    border-color: rgba(68, 255, 136, 0.4);
    color: #44ff88;
}

.hire-btn:hover {
    background: rgba(68, 255, 136, 0.15);
    border-color: #44ff88;
}

.fire-btn {
    border-color: rgba(255, 68, 68, 0.3);
    color: #ff6666;
}

.fire-btn:hover {
    background: rgba(255, 68, 68, 0.15);
    border-color: #ff4444;
}

.cantina-empty {
    text-align: center;
    padding: 20px;
    color: var(--text-dim);
    font-size: 11px;
}

.cantina-assign-menu {
    background: var(--panel-bg-solid);
    border: 1px solid var(--panel-border);
    border-radius: 4px;
    padding: 4px 0;
    z-index: 10000;
    min-width: 180px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
}

.cantina-assign-title {
    padding: 4px 10px;
    font-size: 10px;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.cantina-assign-option {
    padding: 6px 10px;
    color: var(--text-secondary);
    font-size: 11px;
    cursor: pointer;
    transition: background 0.1s;
}

.cantina-assign-option:hover {
    background: rgba(0, 255, 255, 0.15);
    color: var(--text-primary);
}

/* Event Log Filters */
#log-filters {
    display: flex;
    gap: 2px;
    margin-left: auto;
}

.log-filter-btn {
    background: rgba(0, 30, 60, 0.6);
    border: 1px solid rgba(0, 170, 255, 0.2);
    color: rgba(0, 170, 255, 0.5);
    cursor: pointer;
    padding: 1px 5px;
    font-size: 9px;
    border-radius: 2px;
    line-height: 14px;
}

.log-filter-btn:hover {
    border-color: rgba(0, 170, 255, 0.5);
    color: rgba(0, 170, 255, 0.8);
}

.log-filter-btn.active {
    background: rgba(0, 170, 255, 0.2);
    border-color: rgba(0, 170, 255, 0.6);
    color: #00aaff;
}

/* =============================================
   Autopilot Status Indicator
   ============================================= */

#autopilot-indicator {
    position: fixed;
    bottom: 85px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 15;
    pointer-events: auto;
}

#autopilot-indicator .autopilot-content {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 12px;
    background: rgba(0, 30, 60, 0.85);
    border: 1px solid var(--accent-primary, #00aaff);
    border-radius: 4px;
    font-size: 11px;
    color: var(--accent-primary, #00aaff);
    text-transform: uppercase;
    letter-spacing: 1px;
}

#autopilot-indicator .autopilot-icon {
    animation: autopilot-pulse 2s infinite;
}

@keyframes autopilot-pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

#autopilot-cancel-btn {
    background: none;
    border: 1px solid rgba(255, 100, 100, 0.5);
    color: #ff6666;
    cursor: pointer;
    padding: 0 4px;
    font-size: 12px;
    line-height: 16px;
    border-radius: 2px;
}

#autopilot-cancel-btn:hover {
    background: rgba(255, 100, 100, 0.2);
    border-color: #ff6666;
}

/* =============================================
   Contextual Help System
   ============================================= */

.help-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 1px solid rgba(0, 170, 255, 0.4);
    color: rgba(0, 170, 255, 0.6);
    font-size: 9px;
    font-weight: bold;
    cursor: help;
    margin-left: 4px;
    vertical-align: middle;
    transition: all 0.2s;
    flex-shrink: 0;
}

.help-icon:hover {
    border-color: #00aaff;
    color: #00aaff;
    background: rgba(0, 170, 255, 0.15);
}

.help-popover {
    display: none;
    position: fixed;
    z-index: 10000;
    max-width: 320px;
    padding: 10px 14px;
    background: rgba(0, 15, 30, 0.95);
    border: 1px solid rgba(0, 170, 255, 0.5);
    border-radius: 4px;
    color: #aaccdd;
    font-size: 11px;
    line-height: 1.5;
    pointer-events: none;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
}

.help-popover.visible {
    display: block;
}

.help-popover .help-title {
    color: #00ccff;
    font-size: 12px;
    font-weight: bold;
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.help-popover .help-text {
    margin-bottom: 6px;
}

.help-popover .help-keys {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: 6px;
    padding-top: 6px;
    border-top: 1px solid rgba(0, 170, 255, 0.2);
}

.help-popover .help-key {
    display: inline-block;
    padding: 1px 5px;
    background: rgba(0, 170, 255, 0.15);
    border: 1px solid rgba(0, 170, 255, 0.3);
    border-radius: 2px;
    color: #00ccff;
    font-size: 10px;
    font-family: monospace;
}

.help-popover .help-key-desc {
    color: #88aacc;
    font-size: 10px;
    margin-left: 4px;
}

/* Help icon in panel headers */
.panel-header .help-icon {
    margin-left: auto;
    margin-right: 4px;
}

/* When panels have close button too */
.panel-header .panel-close {
    order: 10;
}

/* =============================================
   DAMAGE FLASH & CREDIT POPUPS
   ============================================= */

#damage-flash {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.05s ease-in;
}

#damage-flash.active {
    opacity: 1;
}

/* Breach warnings */
.breach-warning {
    position: fixed;
    top: 35%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.5);
    font-size: 36px;
    font-weight: bold;
    letter-spacing: 6px;
    pointer-events: none;
    z-index: 10000;
    opacity: 0;
    animation: breach-appear 0.15s ease-out forwards, breach-fade 0.5s ease-out 1.5s forwards;
}

@keyframes breach-appear {
    from { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

@keyframes breach-fade {
    to { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
}

@keyframes breach-hull-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

#ui-overlay.proximity-flash {
    animation: proximity-border-flash 0.6s ease-out;
}

@keyframes proximity-border-flash {
    0% { box-shadow: inset 0 0 60px rgba(255, 68, 68, 0.4); }
    100% { box-shadow: inset 0 0 0 transparent; }
}

#credit-popups {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 500;
}

.credit-popup {
    position: absolute;
    font-size: 14px;
    font-weight: bold;
    text-shadow: 0 0 6px rgba(0, 0, 0, 0.8), 0 0 3px rgba(0, 0, 0, 0.6);
    pointer-events: none;
    animation: creditFloat 1.5s ease-out forwards;
    white-space: nowrap;
}

.credit-popup.gain {
    color: #44ff88;
}

.credit-popup.loss {
    color: #ff4444;
}

.credit-popup.bounty {
    color: #ffcc44;
}

@keyframes creditFloat {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    70% {
        opacity: 0.8;
    }
    100% {
        opacity: 0;
        transform: translateY(-60px) scale(0.7);
    }
}

/* =============================================
   DIALOGUE SYSTEM
   ============================================= */

#dialogue-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    z-index: 10000;
    padding-bottom: 80px;
}

#dialogue-overlay.hidden {
    display: none;
}

.dialogue-box {
    display: flex;
    gap: 16px;
    background: linear-gradient(180deg, rgba(8, 16, 32, 0.97) 0%, rgba(4, 8, 20, 0.99) 100%);
    border: 1px solid rgba(0, 170, 255, 0.4);
    border-radius: 4px;
    padding: 16px 20px;
    max-width: 650px;
    width: 90%;
    box-shadow: 0 0 30px rgba(0, 100, 200, 0.2), inset 0 0 20px rgba(0, 50, 100, 0.1);
}

.dialogue-portrait-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 70px;
}

.dialogue-portrait {
    font-size: 40px;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 170, 255, 0.08);
    border: 2px solid rgba(0, 170, 255, 0.25);
    border-radius: 4px;
    margin-bottom: 6px;
    transition: border-color 0.3s, box-shadow 0.3s;
}

.dialogue-portrait[data-mood="hostile"] {
    box-shadow: 0 0 12px rgba(255, 50, 50, 0.3), inset 0 0 8px rgba(255, 50, 50, 0.1);
    animation: mood-pulse-hostile 1.5s ease-in-out infinite;
}

.dialogue-portrait[data-mood="friendly"] {
    box-shadow: 0 0 10px rgba(50, 255, 120, 0.2);
}

.dialogue-portrait[data-mood="worried"] {
    box-shadow: 0 0 10px rgba(255, 180, 40, 0.2);
    animation: mood-pulse-worried 2s ease-in-out infinite;
}

.dialogue-portrait[data-mood="determined"] {
    box-shadow: 0 0 10px rgba(200, 150, 255, 0.2);
}

@keyframes mood-pulse-hostile {
    0%, 100% { box-shadow: 0 0 12px rgba(255, 50, 50, 0.3); }
    50% { box-shadow: 0 0 20px rgba(255, 50, 50, 0.5); }
}

@keyframes mood-pulse-worried {
    0%, 100% { box-shadow: 0 0 10px rgba(255, 180, 40, 0.2); }
    50% { box-shadow: 0 0 16px rgba(255, 180, 40, 0.4); }
}

.dialogue-speaker-name {
    color: #ffffff;
    font-size: 11px;
    font-weight: bold;
    text-align: center;
    white-space: nowrap;
}

.dialogue-speaker-title {
    color: #88aacc;
    font-size: 9px;
    text-align: center;
    white-space: nowrap;
}

.dialogue-content-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.dialogue-text {
    color: #ccddee;
    font-size: 13px;
    line-height: 1.5;
    min-height: 40px;
}

.dialogue-options {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.dialogue-option {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    cursor: pointer;
    color: #00ccff;
    font-size: 12px;
    border: 1px solid transparent;
    border-radius: 2px;
    transition: all 0.15s;
}

.dialogue-option:hover {
    background: rgba(0, 170, 255, 0.12);
    border-color: rgba(0, 170, 255, 0.3);
    color: #ffffff;
}

.dialogue-option-marker {
    color: #00aaff;
    font-weight: bold;
}

/* =============================================
   GUILD PANEL (Station Tab)
   ============================================= */

.guild-panel {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 4px;
}

.guild-tabs {
    display: flex;
    gap: 4px;
}

.guild-tab {
    flex: 1;
    padding: 8px 12px;
    background: rgba(0, 170, 255, 0.06);
    border: 1px solid rgba(0, 170, 255, 0.15);
    border-radius: 3px;
    color: #88aacc;
    font-size: 11px;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.guild-tab:hover {
    background: rgba(0, 170, 255, 0.12);
    color: #ccddee;
}

.guild-tab.active {
    background: rgba(0, 170, 255, 0.15);
    border-color: rgba(0, 170, 255, 0.4);
    color: #ffffff;
}

.guild-tab-icon {
    font-size: 14px;
}

.guild-agent {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px;
    background: rgba(0, 170, 255, 0.05);
    border: 1px solid rgba(0, 170, 255, 0.12);
    border-radius: 3px;
}

.guild-agent-portrait {
    font-size: 32px;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 170, 255, 0.2);
    border-radius: 4px;
}

.guild-agent-name {
    color: #ffffff;
    font-size: 13px;
    font-weight: bold;
}

.guild-agent-title {
    color: #88aacc;
    font-size: 10px;
    margin-top: 2px;
}

.guild-reputation {
    padding: 8px 10px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(0, 170, 255, 0.1);
    border-radius: 3px;
}

.guild-rank-display {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 6px;
}

.guild-rank-label {
    color: #88aacc;
    font-size: 10px;
    text-transform: uppercase;
}

.guild-rank-name {
    font-size: 13px;
    font-weight: bold;
}

.guild-rep-bar-container {
    position: relative;
    height: 16px;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(0, 170, 255, 0.15);
    border-radius: 2px;
    overflow: hidden;
}

.guild-rep-bar {
    height: 100%;
    border-radius: 1px;
    transition: width 0.5s ease;
    opacity: 0.7;
}

.guild-rep-text {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 9px;
    color: #ffffff;
    text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
}

.guild-next-rank {
    margin-top: 4px;
    font-size: 10px;
    color: #88aacc;
}

.guild-section {
    margin-top: 8px;
}

.guild-section-title {
    color: #00ccff;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding-bottom: 4px;
    border-bottom: 1px solid rgba(0, 170, 255, 0.15);
    margin-bottom: 6px;
}

.guild-no-quests {
    color: #667788;
    font-size: 11px;
    font-style: italic;
    padding: 10px;
    text-align: center;
}

/* =============================================
   QUEST CARDS
   ============================================= */

.quest-card {
    background: rgba(0, 170, 255, 0.04);
    border: 1px solid rgba(0, 170, 255, 0.12);
    border-radius: 3px;
    padding: 10px;
    margin-bottom: 6px;
    transition: border-color 0.2s;
}

.quest-card:hover {
    border-color: rgba(0, 170, 255, 0.25);
}

.quest-card.active {
    border-left: 3px solid #00ccff;
}

.quest-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 4px;
}

.quest-title {
    color: #ffffff;
    font-size: 12px;
    font-weight: bold;
}

.quest-status {
    font-size: 9px;
    padding: 2px 6px;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.quest-status.active {
    background: rgba(0, 170, 255, 0.2);
    color: #00ccff;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.quest-badge.repeatable {
    font-size: 8px;
    padding: 1px 5px;
    background: rgba(0, 255, 136, 0.15);
    color: #44ff88;
    border: 1px solid rgba(0, 255, 136, 0.25);
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.quest-description {
    color: #88aacc;
    font-size: 11px;
    line-height: 1.4;
    margin-bottom: 8px;
}

.quest-objective {
    margin-bottom: 4px;
}

.quest-obj-text {
    color: #aabbcc;
    font-size: 10px;
    margin-bottom: 2px;
}

.quest-progress-bar-container {
    position: relative;
    height: 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 170, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.quest-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #0088cc, #00ccff);
    border-radius: 1px;
    transition: width 0.3s ease;
}

.quest-progress-text {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8px;
    color: #ffffff;
    text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
}

.quest-rewards {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: 6px;
    flex-wrap: wrap;
}

.quest-reward-label {
    color: #667788;
    font-size: 9px;
    text-transform: uppercase;
}

.quest-reward {
    font-size: 10px;
    padding: 1px 5px;
    background: rgba(255, 204, 0, 0.1);
    color: #ffcc44;
    border: 1px solid rgba(255, 204, 0, 0.2);
    border-radius: 2px;
}

.quest-reward-item {
    background: rgba(170, 85, 255, 0.1);
    color: #bb88ff;
    border-color: rgba(170, 85, 255, 0.2);
}

.quest-actions {
    display: flex;
    gap: 4px;
    margin-top: 8px;
    justify-content: flex-end;
}

.quest-btn {
    padding: 4px 12px;
    font-size: 10px;
    font-family: inherit;
    border-radius: 2px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.15s;
}

.quest-btn.accept {
    background: rgba(0, 170, 255, 0.15);
    border: 1px solid rgba(0, 170, 255, 0.4);
    color: #00ccff;
}

.quest-btn.accept:hover {
    background: rgba(0, 170, 255, 0.25);
    color: #ffffff;
}

.quest-btn.abandon {
    background: rgba(255, 68, 68, 0.1);
    border: 1px solid rgba(255, 68, 68, 0.25);
    color: #ff6666;
}

.quest-btn.abandon:hover {
    background: rgba(255, 68, 68, 0.2);
    color: #ff8888;
}

/* =============================================
   QUEST TRACKER (HUD Panel)
   ============================================= */

#quest-tracker {
    position: absolute;
    top: 200px;
    right: 10px;
    width: 220px;
    max-height: 300px;
    z-index: 100;
}

#quest-tracker .panel-content {
    max-height: 260px;
    overflow-y: auto;
}

.quest-tracker-empty {
    color: #667788;
    font-size: 10px;
    text-align: center;
    padding: 12px 6px;
    line-height: 1.5;
}

.quest-tracker-hint {
    color: #556677;
    font-size: 9px;
}

.qt-quest {
    padding: 6px 8px;
    border-bottom: 1px solid rgba(0, 170, 255, 0.08);
}

.qt-quest:last-child {
    border-bottom: none;
}

.qt-quest-header {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-bottom: 4px;
}

.qt-guild-icon {
    font-size: 11px;
}

.qt-quest-title {
    color: #ccddee;
    font-size: 10px;
    font-weight: bold;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.qt-objective {
    position: relative;
    height: 12px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 170, 255, 0.08);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 2px;
}

.qt-objective.complete {
    border-color: rgba(0, 255, 136, 0.2);
}

.qt-obj-bar {
    height: 100%;
    background: linear-gradient(90deg, rgba(0, 136, 204, 0.6), rgba(0, 204, 255, 0.6));
    transition: width 0.3s ease;
}

.qt-objective.complete .qt-obj-bar {
    background: linear-gradient(90deg, rgba(0, 200, 100, 0.6), rgba(0, 255, 136, 0.6));
}

.qt-obj-text {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8px;
    color: #ffffff;
    text-shadow: 0 0 3px rgba(0, 0, 0, 0.9);
}

/* =============================================
   Commerce Panel Styles
   ============================================= */

.commerce-panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
    height: 100%;
}

.commerce-tabs {
    display: flex;
    gap: 4px;
    border-bottom: 1px solid #334;
    padding-bottom: 4px;
}

.commerce-tab {
    background: rgba(20, 30, 40, 0.8);
    border: 1px solid #334;
    color: #88aacc;
    padding: 6px 16px;
    cursor: pointer;
    font-size: 11px;
    font-family: inherit;
    text-transform: uppercase;
    transition: all 0.2s;
}

.commerce-tab:hover {
    background: rgba(40, 60, 80, 0.8);
    color: #aaccee;
}

.commerce-tab.active {
    background: rgba(40, 80, 120, 0.4);
    border-color: #44aaff;
    color: #44aaff;
}

.station-specialty {
    background: rgba(20, 30, 40, 0.6);
    border: 1px solid #334;
    border-left: 3px solid #ffaa44;
    padding: 8px 12px;
    margin-bottom: 4px;
}

.specialty-label {
    color: #ffaa44;
    font-size: 10px;
    margin-right: 8px;
}

.specialty-name {
    color: #aaccee;
    font-size: 11px;
}

.trade-category-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 3px;
    margin-bottom: 6px;
}

.trade-cat-btn {
    background: rgba(20, 30, 40, 0.6);
    border: 1px solid #223;
    color: #668;
    padding: 3px 8px;
    cursor: pointer;
    font-size: 9px;
    font-family: inherit;
    transition: all 0.2s;
}

.trade-cat-btn:hover {
    border-color: #44aaff;
    color: #aaccee;
}

.trade-cat-btn.active {
    background: rgba(40, 80, 120, 0.3);
    border-color: #44aaff;
    color: #44aaff;
}

.trade-goods-header {
    display: grid;
    grid-template-columns: 2fr 0.5fr 0.7fr 0.7fr 0.5fr 1fr;
    gap: 4px;
    padding: 4px 8px;
    background: rgba(20, 30, 40, 0.8);
    border-bottom: 1px solid #44aaff33;
    font-size: 9px;
    color: #668;
    text-transform: uppercase;
}

.trade-goods-list {
    max-height: 320px;
    overflow-y: auto;
}

.trade-good-row {
    display: grid;
    grid-template-columns: 2fr 0.5fr 0.7fr 0.7fr 0.5fr 1fr;
    gap: 4px;
    padding: 5px 8px;
    border-bottom: 1px solid rgba(40, 60, 80, 0.3);
    font-size: 11px;
    color: #aaccee;
    align-items: center;
    transition: background 0.15s;
}

.trade-good-row:hover {
    background: rgba(40, 80, 120, 0.2);
}

.trade-good-row.produced {
    border-left: 2px solid #44ff88;
}

.tg-icon {
    font-size: 13px;
    margin-right: 4px;
}

.tg-name {
    font-size: 11px;
}

.trade-profit-hint {
    color: #44ff88;
    font-size: 9px;
    margin-left: 6px;
    opacity: 0.8;
}

.tg-col-stock { text-align: center; color: #88aacc; }
.tg-col-buy { text-align: right; color: #ff8888; }
.tg-col-sell { text-align: right; color: #88ff88; }
.tg-col-cargo { text-align: center; color: #ffaa44; }
.tg-col-actions { display: flex; gap: 4px; justify-content: flex-end; }

.tg-btn {
    background: rgba(20, 40, 60, 0.8);
    border: 1px solid #44aaff44;
    color: #44aaff;
    padding: 2px 8px;
    cursor: pointer;
    font-size: 9px;
    font-family: inherit;
    transition: all 0.2s;
}

.tg-btn:hover:not(.disabled) {
    background: rgba(40, 80, 120, 0.6);
    border-color: #44aaff;
}

.tg-btn.buy { border-color: #ff888844; color: #ff8888; }
.tg-btn.buy:hover:not(.disabled) { background: rgba(120, 40, 40, 0.4); border-color: #ff8888; }
.tg-btn.sell { border-color: #88ff8844; color: #88ff88; }
.tg-btn.sell:hover:not(.disabled) { background: rgba(40, 120, 40, 0.4); border-color: #88ff88; }

.tg-btn.disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.trade-no-goods {
    padding: 20px;
    text-align: center;
    color: #557;
    font-style: italic;
}

.trade-cargo-summary {
    margin-top: 8px;
    padding: 8px;
    background: rgba(20, 30, 40, 0.6);
    border: 1px solid #334;
}

.trade-cargo-title {
    color: #ffaa44;
    font-size: 10px;
    text-transform: uppercase;
    margin-bottom: 4px;
}

.trade-cargo-empty {
    color: #557;
    font-size: 10px;
    font-style: italic;
}

.trade-cargo-item {
    display: flex;
    justify-content: space-between;
    padding: 2px 0;
    font-size: 10px;
    color: #88aacc;
}

/* Commerce quest route info */
.quest-route-info {
    display: flex;
    justify-content: space-between;
    padding: 4px 8px;
    background: rgba(20, 40, 60, 0.3);
    border-left: 2px solid #ffaa44;
    margin: 4px 0;
    font-size: 10px;
}

.quest-route {
    color: #aaccee;
}

.quest-trade-profit {
    color: #44ff88;
    font-weight: bold;
}

/* =============================================
   Admin Dashboard
   ============================================= */

#admin-dashboard {
    position: fixed;
    inset: 0;
    z-index: 10000;
    background: rgba(2, 6, 14, 0.96);
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(4px);
}

#admin-dashboard.hidden {
    display: none;
}

.admin-container {
    width: 95vw;
    max-width: 1400px;
    height: 90vh;
    display: flex;
    flex-direction: column;
    background: rgba(8, 16, 28, 0.95);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 4px;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.8), inset 0 0 60px rgba(0, 20, 40, 0.3);
}

/* Header */
.admin-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    background: rgba(0, 20, 40, 0.4);
}

.admin-title {
    font-size: 16px;
    font-weight: bold;
    color: #88ccee;
    letter-spacing: 2px;
}

.admin-title-icon {
    margin-right: 8px;
    font-size: 18px;
}

.admin-header-right {
    display: flex;
    align-items: center;
    gap: 16px;
}

.admin-hint {
    font-size: 11px;
    color: #556677;
}

.admin-close {
    background: none;
    border: 1px solid rgba(255, 80, 80, 0.3);
    color: #ff6666;
    font-size: 16px;
    width: 28px;
    height: 28px;
    border-radius: 3px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.admin-close:hover {
    background: rgba(255, 60, 60, 0.15);
    border-color: #ff4444;
}

/* Faction Tabs */
.admin-factions {
    display: flex;
    gap: 2px;
    padding: 8px 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
    background: rgba(0, 10, 20, 0.3);
}

.admin-faction-tab {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 16px;
    background: rgba(10, 20, 35, 0.6);
    border: 1px solid rgba(100, 120, 140, 0.15);
    border-radius: 3px;
    color: #778899;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 13px;
}

.admin-faction-tab:hover {
    background: rgba(20, 35, 55, 0.8);
    color: #aabbcc;
    border-color: var(--faction-color, #88aacc);
}

.admin-faction-tab.active {
    background: rgba(20, 40, 60, 0.9);
    color: var(--faction-color, #ffffff);
    border-color: var(--faction-color, #88aacc);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3), inset 0 -2px 0 var(--faction-color, #88aacc);
}

.admin-faction-icon {
    font-size: 16px;
}

.admin-faction-name {
    font-weight: bold;
    letter-spacing: 1px;
}

/* Faction Header */
.admin-faction-header {
    padding: 8px 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.06);
}

.admin-faction-title {
    font-size: 18px;
    font-weight: bold;
    color: #ccddeeff;
}

/* Summary Cards */
.admin-summary {
    display: flex;
    gap: 8px;
    padding: 10px 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
}

.admin-stat-card {
    flex: 1;
    padding: 10px 14px;
    background: rgba(10, 20, 35, 0.7);
    border: 1px solid rgba(60, 80, 100, 0.2);
    border-radius: 3px;
    text-align: center;
}

.admin-stat-label {
    font-size: 9px;
    color: #556677;
    letter-spacing: 1.5px;
    margin-bottom: 4px;
}

.admin-stat-value {
    font-size: 18px;
    font-weight: bold;
    color: #ccddeeff;
    font-family: 'Courier New', monospace;
}

.admin-income {
    color: #44ff88 !important;
}

.admin-expense {
    color: #ff6644 !important;
}

/* Table */
.admin-table-wrap {
    flex: 1;
    overflow-y: auto;
    padding: 0 20px 10px;
}

.admin-table-wrap::-webkit-scrollbar {
    width: 6px;
}

.admin-table-wrap::-webkit-scrollbar-track {
    background: rgba(0, 10, 20, 0.5);
}

.admin-table-wrap::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.15);
    border-radius: 3px;
}

.admin-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
}

.admin-table thead {
    position: sticky;
    top: 0;
    z-index: 1;
}

.admin-table th {
    padding: 8px 10px;
    text-align: left;
    background: rgba(8, 16, 28, 0.98);
    color: #668899;
    font-size: 10px;
    letter-spacing: 1px;
    text-transform: uppercase;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    white-space: nowrap;
    user-select: none;
}

.admin-sortable {
    cursor: pointer;
}

.admin-sortable:hover {
    color: #88ccee;
}

.admin-sortable.sort-asc::after {
    content: ' \u25B2';
    font-size: 9px;
}

.admin-sortable.sort-desc::after {
    content: ' \u25BC';
    font-size: 9px;
}

.admin-table td {
    padding: 6px 10px;
    color: #aabbcc;
    border-bottom: 1px solid rgba(30, 45, 60, 0.3);
    white-space: nowrap;
}

.admin-row {
    cursor: pointer;
    transition: background 0.15s ease;
}

.admin-row:hover {
    background: rgba(0, 255, 255, 0.04);
}

.admin-name {
    color: #ddeeff !important;
    font-weight: bold;
}

.admin-dim {
    color: #667788 !important;
    font-size: 11px;
}

.admin-task-detail {
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* State indicator */
.admin-state-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-right: 6px;
    vertical-align: middle;
}

/* Role icon */
.admin-role-icon {
    margin-right: 4px;
}

/* Materialized badge */
.admin-mat-badge {
    display: inline-block;
    font-size: 8px;
    padding: 1px 4px;
    background: rgba(0, 255, 100, 0.15);
    border: 1px solid rgba(0, 255, 100, 0.3);
    border-radius: 2px;
    color: #44ff88;
    letter-spacing: 1px;
    margin-left: 6px;
    vertical-align: middle;
}

/* Cargo bar */
.admin-cargo-bar {
    display: inline-block;
    width: 50px;
    height: 6px;
    background: rgba(30, 45, 60, 0.5);
    border-radius: 3px;
    overflow: hidden;
    vertical-align: middle;
    margin-right: 6px;
}

.admin-cargo-fill {
    height: 100%;
    background: linear-gradient(90deg, #336688, #44aaff);
    border-radius: 3px;
    transition: width 0.3s ease;
}

.admin-cargo-text {
    font-size: 10px;
    color: #778899;
}

/* Jump button */
.admin-jump-btn {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #44ddff;
    width: 26px;
    height: 22px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.admin-jump-btn:hover {
    background: rgba(0, 255, 255, 0.15);
    border-color: #00ffff;
    box-shadow: 0 0 8px rgba(0, 255, 255, 0.2);
}

/* Raid Activity Log */
.admin-raid-log {
    padding: 8px 20px;
    border-top: 1px solid rgba(255, 68, 102, 0.15);
    max-height: 120px;
    overflow-y: auto;
}

.admin-raid-log-title {
    font-size: 10px;
    color: #cc2244;
    letter-spacing: 1.5px;
    margin-bottom: 6px;
    font-weight: bold;
}

.admin-raid-log-entries {
    display: flex;
    flex-direction: column;
    gap: 3px;
}

.admin-raid-entry {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 3px 8px;
    font-size: 11px;
    color: #aabbcc;
    border-left: 2px solid #888;
    background: rgba(10, 15, 25, 0.5);
}

.admin-raid-icon {
    font-size: 12px;
    flex-shrink: 0;
}

.admin-raid-msg {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-raid-time {
    font-size: 9px;
    color: #556677;
    flex-shrink: 0;
}

/* Pirate faction highlight */
.admin-row[data-pirate="true"] .admin-name {
    color: #ff4466 !important;
}

/* Footer */
.admin-footer {
    display: flex;
    justify-content: space-between;
    padding: 10px 20px;
    border-top: 1px solid rgba(0, 255, 255, 0.08);
    font-size: 11px;
    color: #556677;
    background: rgba(0, 10, 20, 0.3);
}

/* =============================================
   Keyboard Shortcuts Overlay
   ============================================= */

#keybind-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 4, 12, 0.92);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: keybind-fade-in 0.2s ease-out;
    backdrop-filter: blur(4px);
}

@keyframes keybind-fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

.keybind-container {
    max-width: 900px;
    width: 90%;
    max-height: 85vh;
    overflow-y: auto;
    padding: 30px;
}

.keybind-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
}

.keybind-title {
    font-size: 20px;
    letter-spacing: 4px;
    color: rgba(0, 255, 255, 0.8);
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.keybind-hint {
    font-size: 11px;
    color: rgba(100, 180, 220, 0.4);
    letter-spacing: 1px;
}

.keybind-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.keybind-category {
    background: rgba(0, 20, 40, 0.4);
    border: 1px solid rgba(0, 255, 255, 0.08);
    border-radius: 6px;
    padding: 16px;
}

.keybind-category-title {
    font-size: 12px;
    letter-spacing: 2px;
    color: rgba(0, 255, 255, 0.6);
    margin-bottom: 12px;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    text-transform: uppercase;
}

.keybind-entry {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
}

.keybind-desc {
    font-size: 12px;
    color: rgba(180, 210, 230, 0.7);
}

.keybind-key {
    font-size: 11px;
    font-family: 'Courier New', monospace;
    color: rgba(0, 255, 255, 0.9);
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    padding: 2px 8px;
    min-width: 30px;
    text-align: center;
    letter-spacing: 1px;
}

.keybind-footer {
    margin-top: 24px;
    padding-top: 12px;
    border-top: 1px solid rgba(0, 255, 255, 0.1);
    font-size: 11px;
    color: rgba(100, 150, 180, 0.4);
    text-align: center;
    letter-spacing: 2px;
}

/* =============================================
   Radar Minimap
   ============================================= */

#minimap {
    position: absolute;
    bottom: 185px;
    right: 10px;
    z-index: 20;
    width: 210px;
}

.minimap-header {
    padding: 3px 8px !important;
    min-height: auto !important;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.minimap-header .panel-title {
    font-size: 9px;
}

.minimap-range-btns {
    display: flex;
    gap: 3px;
}

.minimap-range-btn {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: rgba(0, 255, 255, 0.5);
    font-size: 8px;
    padding: 1px 4px;
    cursor: pointer;
    font-family: inherit;
    letter-spacing: 0.5px;
    border-radius: 2px;
    transition: all 0.15s;
}

.minimap-range-btn:hover {
    background: rgba(0, 255, 255, 0.15);
    color: rgba(0, 255, 255, 0.8);
}

.minimap-range-btn.active {
    background: rgba(0, 255, 255, 0.2);
    border-color: rgba(0, 255, 255, 0.5);
    color: rgba(0, 255, 255, 0.9);
}

#minimap-canvas {
    display: block;
    width: 210px;
    height: 210px;
    border-top: 1px solid rgba(0, 255, 255, 0.15);
}

/* Expanded minimap */
#minimap.minimap-expanded {
    width: 400px;
    transition: width 0.2s ease;
}

#minimap.minimap-expanded #minimap-canvas {
    width: 400px;
    height: 400px;
}

#minimap-expand-btn {
    font-size: 8px !important;
    padding: 1px 4px !important;
}

/* =============================================
   Insurance Panel
   ============================================= */
.insurance-panel {
    padding: 10px;
}

.insurance-status {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    margin-bottom: 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 4px;
}

.insurance-ship-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.insurance-label {
    font-size: 9px;
    letter-spacing: 2px;
    color: rgba(0, 255, 255, 0.5);
}

.insurance-ship-name {
    font-size: 14px;
    color: #e0e8ff;
    font-weight: bold;
}

.insurance-ship-value {
    font-size: 11px;
    color: rgba(200, 210, 230, 0.6);
}

.insurance-active-badge {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
    padding: 8px 12px;
    background: rgba(0, 200, 100, 0.1);
    border: 1px solid rgba(0, 200, 100, 0.3);
    border-radius: 4px;
}

.insurance-active-badge.insurance-mismatch {
    background: rgba(255, 170, 0, 0.1);
    border-color: rgba(255, 170, 0, 0.3);
}

.insurance-tier-name {
    font-size: 12px;
    color: #44ff88;
    font-weight: bold;
}

.insurance-mismatch .insurance-tier-name {
    color: #ffaa44;
}

.insurance-payout {
    font-size: 11px;
    color: rgba(200, 220, 200, 0.8);
}

.insurance-warning {
    font-size: 9px;
    color: #ffaa44;
}

.insurance-inactive-badge {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
    padding: 8px 12px;
    background: rgba(255, 50, 50, 0.08);
    border: 1px solid rgba(255, 50, 50, 0.2);
    border-radius: 4px;
    color: #ff6644;
    font-size: 12px;
    font-weight: bold;
}

.insurance-warning-text {
    font-size: 10px;
    color: rgba(255, 100, 70, 0.6);
    font-weight: normal;
}

.insurance-tiers {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 15px;
}

.insurance-tier-card {
    background: rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(100, 120, 160, 0.2);
    border-radius: 4px;
    overflow: hidden;
    transition: border-color 0.2s;
}

.insurance-tier-card:hover {
    border-color: rgba(0, 255, 255, 0.3);
}

.insurance-tier-card.active {
    border-color: rgba(0, 200, 100, 0.5);
    box-shadow: 0 0 10px rgba(0, 200, 100, 0.1);
}

.tier-header {
    padding: 6px 10px;
    font-size: 11px;
    font-weight: bold;
    letter-spacing: 1px;
    text-align: center;
    text-transform: uppercase;
}

.tier-basic { background: rgba(100, 140, 180, 0.2); color: #8ab4d8; }
.tier-standard { background: rgba(80, 180, 120, 0.2); color: #66cc88; }
.tier-platinum { background: rgba(170, 140, 220, 0.2); color: #bb99ee; }
.tier-gold { background: rgba(220, 180, 60, 0.2); color: #eebb44; }

.tier-body {
    padding: 10px;
}

.tier-stat {
    display: flex;
    justify-content: space-between;
    padding: 3px 0;
    font-size: 11px;
    color: rgba(200, 210, 230, 0.6);
    border-bottom: 1px solid rgba(100, 120, 160, 0.1);
}

.tier-stat:last-of-type {
    border-bottom: none;
    margin-bottom: 8px;
}

.tier-cost { color: #ff8866; }
.tier-payout { color: #66ff88; }
.tier-profit { color: #44ff88; }
.tier-loss { color: #ff6644; }

.insurance-btn {
    width: 100%;
    padding: 6px;
    font-size: 10px;
    margin-top: 4px;
}

.insurance-info {
    padding: 10px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(100, 120, 160, 0.1);
    border-radius: 4px;
    font-size: 10px;
    color: rgba(200, 210, 230, 0.4);
    line-height: 1.5;
}

.insurance-info p {
    margin: 0 0 5px;
}

.insurance-info p:last-child {
    margin-bottom: 0;
}

/* =============================================
   Velocity Compass
   ============================================= */
.velocity-compass {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 2px 6px;
}

#velocity-compass-canvas {
    width: 50px;
    height: 50px;
}

.velocity-speed-label {
    font-size: 9px;
    color: rgba(0, 255, 255, 0.7);
    font-family: 'Courier New', monospace;
    white-space: nowrap;
}

/* =============================================
   EWAR Status Indicators
   ============================================= */
.ewar-status-bar {
    display: none;
    flex-wrap: wrap;
    gap: 3px;
    padding: 3px 5px 0;
}

.ewar-badge {
    display: inline-block;
    padding: 1px 6px;
    font-size: 9px;
    font-weight: bold;
    letter-spacing: 1px;
    border-radius: 2px;
    text-transform: uppercase;
    animation: ewar-pulse 1.5s ease-in-out infinite;
}

@keyframes ewar-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

.ewar-pointed {
    background: rgba(255, 40, 40, 0.2);
    border: 1px solid rgba(255, 40, 40, 0.5);
    color: #ff4444;
}

.ewar-webbed {
    background: rgba(255, 170, 0, 0.15);
    border: 1px solid rgba(255, 170, 0, 0.4);
    color: #ffaa44;
}

.ewar-warp-spool {
    background: rgba(100, 150, 255, 0.15);
    border: 1px solid rgba(100, 150, 255, 0.4);
    color: #6699ff;
    animation: none;
}

.ewar-warp-cd {
    background: rgba(100, 100, 130, 0.15);
    border: 1px solid rgba(100, 100, 130, 0.3);
    color: #8888aa;
    animation: none;
}

.ewar-pointing {
    background: rgba(0, 200, 100, 0.15);
    border: 1px solid rgba(0, 200, 100, 0.4);
    color: #44ff88;
    animation: none;
}

.ewar-webbing {
    background: rgba(0, 200, 200, 0.15);
    border: 1px solid rgba(0, 200, 200, 0.4);
    color: #44dddd;
    animation: none;
}

.ewar-drained {
    background: rgba(153, 68, 255, 0.2);
    border: 1px solid rgba(153, 68, 255, 0.5);
    color: #bb66ff;
    animation: ewar-drain-pulse 0.6s ease-in-out infinite;
}

.ewar-draining {
    background: rgba(153, 68, 255, 0.15);
    border: 1px solid rgba(153, 68, 255, 0.4);
    color: #9944ff;
    animation: none;
}

@keyframes ewar-drain-pulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; text-shadow: 0 0 8px rgba(153, 68, 255, 0.8); }
}

.ewar-badge.drained {
    background: rgba(153, 68, 255, 0.2);
    border: 1px solid rgba(153, 68, 255, 0.5);
    color: #bb66ff;
}

.ewar-tractor {
    background: rgba(68, 255, 136, 0.15);
    border: 1px solid rgba(68, 255, 136, 0.4);
    color: #44ff88;
    animation: ewar-tractor-pulse 1s ease-in-out infinite;
}

@keyframes ewar-tractor-pulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; text-shadow: 0 0 6px rgba(68, 255, 136, 0.6); }
}

/* =============================================
   Statistics Panel
   ============================================= */
#stats-panel {
    width: 260px;
}

.stats-grid {
    padding: 5px;
}

.stat-section {
    margin-bottom: 10px;
}

.stat-section-title {
    font-size: 9px;
    letter-spacing: 2px;
    color: rgba(0, 255, 255, 0.5);
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    padding-bottom: 3px;
    margin-bottom: 4px;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    padding: 2px 0;
    font-size: 11px;
    color: rgba(200, 210, 230, 0.6);
}

.stat-val {
    color: #e0e8ff;
    font-weight: bold;
}

/* =============================================
   Skills Panel
   ============================================= */
.skills-panel {
    padding: 5px;
}

.skills-header {
    font-size: 12px;
    font-weight: bold;
    letter-spacing: 2px;
    color: rgba(200, 210, 230, 0.5);
    margin-bottom: 10px;
    text-align: center;
}

.skill-card {
    background: rgba(20, 30, 50, 0.6);
    border-radius: 4px;
    padding: 10px 12px;
    margin-bottom: 8px;
}

.skill-card-top {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 6px;
}

.skill-icon {
    font-size: 22px;
    width: 30px;
    text-align: center;
    flex-shrink: 0;
}

.skill-info {
    flex: 1;
    min-width: 0;
}

.skill-name {
    font-size: 13px;
    font-weight: bold;
    color: #e0e8ff;
}

.skill-level {
    font-size: 11px;
    color: rgba(200, 210, 230, 0.5);
    font-weight: normal;
    margin-left: 4px;
}

.skill-desc {
    font-size: 10px;
    color: rgba(200, 210, 230, 0.4);
    margin-top: 2px;
}

.skill-dots {
    display: flex;
    gap: 4px;
    flex-shrink: 0;
}

.skill-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 1px solid rgba(200, 210, 230, 0.3);
    background: transparent;
    transition: background 0.3s;
}

.skill-dot.filled {
    border-color: transparent;
    box-shadow: 0 0 4px currentColor;
}

.skill-xp-bar-outer {
    height: 4px;
    background: rgba(200, 210, 230, 0.1);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 4px;
}

.skill-xp-bar-inner {
    height: 100%;
    border-radius: 2px;
    transition: width 0.5s ease;
    opacity: 0.8;
}

.skill-card-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.skill-xp-text {
    font-size: 10px;
    color: rgba(200, 210, 230, 0.4);
}

.skill-bonuses {
    display: flex;
    gap: 8px;
}

.skill-bonus-line {
    font-size: 10px;
    color: rgba(100, 200, 150, 0.7);
}

/* =============================================
   Achievements Panel
   ============================================= */
#achievements-panel {
    width: 300px;
    max-height: 500px;
}

#achievements-panel .panel-content {
    max-height: 450px;
    overflow-y: auto;
}

.achievements-summary {
    text-align: center;
    font-size: 13px;
    font-weight: bold;
    color: #ffd700;
    padding: 6px 0;
    letter-spacing: 1px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.1);
    margin-bottom: 8px;
}

.achievement-category {
    margin-bottom: 10px;
}

.achievement-category-title {
    font-size: 10px;
    font-weight: bold;
    letter-spacing: 2px;
    color: rgba(200, 210, 230, 0.4);
    margin-bottom: 4px;
    padding-left: 4px;
}

.achievement-card {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 3px;
    margin-bottom: 2px;
    transition: background 0.2s;
}

.achievement-card.unlocked {
    background: rgba(255, 215, 0, 0.08);
}

.achievement-card.locked {
    background: rgba(20, 30, 50, 0.4);
    opacity: 0.5;
}

.achievement-icon {
    font-size: 18px;
    width: 24px;
    text-align: center;
    flex-shrink: 0;
}

.achievement-info {
    flex: 1;
    min-width: 0;
}

.achievement-name {
    font-size: 12px;
    font-weight: bold;
    color: #e0e8ff;
}

.achievement-card.locked .achievement-name {
    color: rgba(200, 210, 230, 0.4);
}

.achievement-desc {
    font-size: 10px;
    color: rgba(200, 210, 230, 0.5);
}

.achievement-check {
    color: #ffd700;
    font-size: 14px;
    font-weight: bold;
    flex-shrink: 0;
}

/* =============================================
   Ship Log Panel
   ============================================= */
#ship-log-panel {
    width: 320px;
    max-height: 400px;
}

#ship-log-panel .panel-content {
    max-height: 360px;
    overflow-y: auto;
}

#ship-log-filters {
    display: flex;
    gap: 2px;
    padding: 4px 6px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.1);
    margin-bottom: 4px;
}

#ship-log-filters .log-filter-btn {
    font-size: 9px;
    padding: 2px 6px;
}

.ship-log-empty {
    text-align: center;
    color: rgba(200, 210, 230, 0.3);
    padding: 20px 0;
    font-size: 11px;
}

.ship-log-entry {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 3px 6px;
    font-size: 11px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.04);
}

.ship-log-entry:hover {
    background: rgba(200, 210, 230, 0.05);
}

.ship-log-icon {
    font-size: 12px;
    width: 16px;
    text-align: center;
    flex-shrink: 0;
}

.ship-log-msg {
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: rgba(200, 210, 230, 0.7);
}

.ship-log-time {
    font-size: 9px;
    color: rgba(200, 210, 230, 0.3);
    flex-shrink: 0;
}

.ship-log-combat .ship-log-icon { color: #ff4444; }
.ship-log-trade .ship-log-icon { color: #ffdd44; }
.ship-log-nav .ship-log-icon { color: #44aaff; }
.ship-log-quest .ship-log-icon { color: #ffd700; }
.ship-log-skill .ship-log-icon { color: #44ff88; }
.ship-log-system .ship-log-icon { color: rgba(200, 210, 230, 0.5); }

/* =============================================
   Combat Log Panel
   ============================================= */
#combat-log-panel {
    width: 360px;
    max-height: 480px;
}

#combat-log-panel .panel-content {
    max-height: 440px;
    overflow-y: auto;
}

#combat-log-summary {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 4px;
    padding: 6px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.1);
    font-size: 10px;
}

.clog-stat {
    text-align: center;
    padding: 3px 2px;
    background: rgba(20, 30, 50, 0.5);
    border-radius: 3px;
}

.clog-stat-label {
    color: rgba(200, 210, 230, 0.4);
    font-size: 8px;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.clog-stat-value {
    font-weight: bold;
    font-size: 12px;
    margin-top: 1px;
}

.clog-stat-value.out { color: #00ddff; }
.clog-stat-value.in { color: #ff5555; }
.clog-stat-value.kills { color: #ffd700; }
.clog-stat-value.accuracy { color: #66ff88; }

#combat-log-filters {
    display: flex;
    gap: 2px;
    padding: 4px 6px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.1);
}

.clog-filter-btn {
    font-size: 9px;
    padding: 2px 6px;
    background: rgba(100, 120, 150, 0.15);
    border: 1px solid rgba(100, 120, 150, 0.2);
    color: rgba(200, 210, 230, 0.5);
    cursor: pointer;
    border-radius: 2px;
    transition: all 0.15s;
}

.clog-filter-btn:hover {
    background: rgba(100, 120, 150, 0.3);
    color: rgba(200, 210, 230, 0.8);
}

.clog-filter-btn.active {
    background: rgba(0, 180, 255, 0.2);
    border-color: rgba(0, 180, 255, 0.4);
    color: #00ccff;
}

#combat-log-entries {
    padding: 2px 0;
    max-height: 340px;
    overflow-y: auto;
}

.clog-entry {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 2px 6px;
    font-size: 10px;
    border-bottom: 1px solid rgba(200, 210, 230, 0.03);
    line-height: 1.4;
}

.clog-entry:hover {
    background: rgba(200, 210, 230, 0.05);
}

.clog-time {
    color: rgba(200, 210, 230, 0.25);
    font-size: 9px;
    flex-shrink: 0;
    width: 36px;
}

.clog-icon {
    width: 14px;
    text-align: center;
    flex-shrink: 0;
    font-size: 10px;
}

.clog-msg {
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.clog-dmg {
    flex-shrink: 0;
    font-weight: bold;
    font-size: 11px;
    min-width: 40px;
    text-align: right;
}

/* Entry type colors */
.clog-entry.outgoing .clog-icon { color: #00ddff; }
.clog-entry.outgoing .clog-msg { color: rgba(0, 220, 255, 0.7); }
.clog-entry.outgoing .clog-dmg { color: #00ddff; }

.clog-entry.incoming .clog-icon { color: #ff5555; }
.clog-entry.incoming .clog-msg { color: rgba(255, 85, 85, 0.7); }
.clog-entry.incoming .clog-dmg { color: #ff5555; }

.clog-entry.miss .clog-icon { color: rgba(200, 210, 230, 0.3); }
.clog-entry.miss .clog-msg { color: rgba(200, 210, 230, 0.35); font-style: italic; }
.clog-entry.miss .clog-dmg { color: rgba(200, 210, 230, 0.3); }

.clog-entry.kill .clog-icon { color: #ffd700; }
.clog-entry.kill .clog-msg { color: rgba(255, 215, 0, 0.85); font-weight: bold; }
.clog-entry.kill .clog-dmg { color: #ffd700; }

.clog-entry.death .clog-icon { color: #ff2222; }
.clog-entry.death .clog-msg { color: rgba(255, 34, 34, 0.85); font-weight: bold; }

.clog-entry.shield .clog-dmg { color: #4488ff; }
.clog-entry.armor .clog-dmg { color: #ff8844; }
.clog-entry.hull .clog-dmg { color: #ff4444; }

.clog-empty {
    text-align: center;
    color: rgba(200, 210, 230, 0.3);
    padding: 20px 0;
    font-size: 11px;
}

/* =============================================
   Hull Critical Effects
   ============================================= */
#ship-indicator.hull-critical {
    animation: hull-critical-pulse 0.8s ease-in-out infinite;
    border-color: rgba(255, 40, 40, 0.6) !important;
}

@keyframes hull-critical-pulse {
    0%, 100% { box-shadow: inset 0 0 8px rgba(255, 40, 40, 0.3), 0 0 6px rgba(255, 40, 40, 0.2); }
    50% { box-shadow: inset 0 0 15px rgba(255, 40, 40, 0.6), 0 0 12px rgba(255, 40, 40, 0.4); }
}

#ship-indicator.shield-down {
    border-top-color: rgba(255, 150, 50, 0.4);
}

.bar-container.critical .status-bar {
    animation: bar-critical-blink 0.6s ease-in-out infinite;
}

@keyframes bar-critical-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* =============================================
   Hazard Warning HUD
   ============================================= */
#hazard-warning {
    position: absolute;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    padding: 4px 16px;
    border: 1px solid #ff4444;
    border-radius: 3px;
    background: rgba(255, 30, 30, 0.1);
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 30;
    font-size: 11px;
    letter-spacing: 2px;
    animation: hazard-blink 2s ease-in-out infinite;
}

#hazard-warning.hidden { display: none; }

.hazard-icon {
    font-size: 16px;
    color: #ff4444;
}

.hazard-name {
    color: var(--text-primary);
    font-weight: bold;
    text-transform: uppercase;
}

@keyframes hazard-blink {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

#hazard-warning.hazard-pulse {
    animation: hazard-pulse-flash 0.3s ease-out;
}

@keyframes hazard-pulse-flash {
    0% { background: rgba(255, 60, 60, 0.4); }
    100% { background: rgba(255, 30, 30, 0.1); }
}

/* Dock Prompt */
#dock-prompt {
    position: fixed;
    bottom: 90px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 13px;
    letter-spacing: 3px;
    color: rgba(0, 255, 255, 0.7);
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    background: rgba(0, 20, 40, 0.6);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    padding: 6px 18px;
    pointer-events: none;
    z-index: 30;
    animation: dock-prompt-pulse 2s ease-in-out infinite;
}

#dock-prompt.hidden { display: none; }

@keyframes dock-prompt-pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; border-color: rgba(0, 255, 255, 0.4); }
}

/* Sector Arrival Banner */
#sector-banner {
    position: fixed;
    top: 30%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 90;
    pointer-events: none;
    animation: sector-banner-anim 3s ease-in-out forwards;
}

#sector-banner.hidden { display: none; }

.sector-banner-name {
    font-size: 36px;
    letter-spacing: 8px;
    color: var(--text-primary);
    text-shadow: 0 0 30px var(--glow-cyan), 0 0 60px rgba(0, 100, 200, 0.3);
    text-transform: uppercase;
    font-weight: bold;
}

.sector-banner-subtitle {
    font-size: 13px;
    letter-spacing: 4px;
    color: var(--text-secondary);
    margin-top: 8px;
    text-transform: uppercase;
}

.sector-banner-subtitle.dangerous { color: var(--hostile-color); }
.sector-banner-subtitle.deadly { color: #ff2200; }

@keyframes sector-banner-anim {
    0% { opacity: 0; transform: translateX(-50%) translateY(10px); }
    15% { opacity: 1; transform: translateX(-50%) translateY(0); }
    70% { opacity: 1; }
    100% { opacity: 0; }
}

/* Kill Notification Popup */
/* Kill streak notification */
.streak-notification {
    position: fixed;
    top: 28%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 65;
    pointer-events: none;
    animation: streak-anim 2.5s ease-out forwards;
}

.streak-text {
    font-size: 32px;
    font-weight: bold;
    color: #ffcc00;
    letter-spacing: 4px;
    text-shadow: 0 0 20px rgba(255, 200, 0, 0.8), 0 0 40px rgba(255, 150, 0, 0.4);
}

.streak-count {
    font-size: 14px;
    color: rgba(255, 200, 0, 0.6);
    letter-spacing: 2px;
    margin-top: 4px;
}

@keyframes streak-anim {
    0% { opacity: 0; transform: translateX(-50%) scale(2); }
    15% { opacity: 1; transform: translateX(-50%) scale(1); }
    80% { opacity: 1; transform: translateX(-50%) scale(1); }
    100% { opacity: 0; transform: translateX(-50%) scale(0.8) translateY(-20px); }
}

#kill-notification {
    position: fixed;
    top: 20%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 60;
    pointer-events: none;
    animation: kill-notif-anim 3s ease-in-out forwards;
}

.kill-notif-line {
    width: 120px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 68, 68, 0.5), transparent);
    margin: 6px auto;
}

.kill-notif-header {
    font-size: 12px;
    letter-spacing: 6px;
    color: var(--hostile-color);
    text-shadow: 0 0 15px rgba(255, 68, 68, 0.5);
    margin-bottom: 4px;
}

.kill-notif-icon {
    font-size: 20px;
    margin-bottom: 2px;
}

.kill-notif-name {
    font-size: 22px;
    font-weight: bold;
    color: var(--text-primary);
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    letter-spacing: 3px;
}

.kill-notif-class {
    font-size: 10px;
    color: var(--text-dim);
    letter-spacing: 3px;
    margin-top: 2px;
}

.kill-notif-bounty {
    font-size: 16px;
    color: #ffdd44;
    text-shadow: 0 0 12px rgba(255, 221, 68, 0.4);
    margin-top: 6px;
    letter-spacing: 2px;
}

@keyframes kill-notif-anim {
    0% { opacity: 0; transform: translateX(-50%) scale(0.8); }
    10% { opacity: 1; transform: translateX(-50%) scale(1.05); }
    20% { transform: translateX(-50%) scale(1); }
    70% { opacity: 1; }
    100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
}

/* Repair flash on ship indicator */
#ship-indicator.repair-flash {
    animation: repair-glow 1.5s ease-out;
}

@keyframes repair-glow {
    0% { box-shadow: inset 0 0 30px rgba(0, 170, 255, 0.6), 0 0 20px rgba(0, 170, 255, 0.4); }
    50% { box-shadow: inset 0 0 15px rgba(68, 255, 136, 0.4), 0 0 10px rgba(68, 255, 136, 0.2); }
    100% { box-shadow: none; }
}

/* =============================================
   Tactical Overlay
   ============================================= */
#tactical-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 15;
}

.tac-label {
    position: absolute;
    transform: translate(-50%, -100%);
    font-size: 9px;
    letter-spacing: 1px;
    white-space: nowrap;
    padding: 1px 4px;
    pointer-events: none;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
    opacity: 0.85;
}

.tac-label.hostile { color: var(--hostile-color); }
.tac-label.friendly { color: var(--friendly-color); }
.tac-label.neutral { color: #7799bb; }
.tac-label.structure { color: #cccccc; }

.tac-label .tac-name {
    font-weight: bold;
}

.tac-label .tac-dist {
    color: rgba(255, 255, 255, 0.4);
    margin-left: 4px;
    font-size: 8px;
}

.tac-bracket {
    position: absolute;
    border: 1px solid;
    pointer-events: none;
    opacity: 0.5;
    transform: translate(-50%, -50%);
}

.tac-bracket.hostile { border-color: var(--hostile-color); }
.tac-bracket.friendly { border-color: var(--friendly-color); }
.tac-bracket.neutral { border-color: #556677; }
.tac-bracket.structure { border-color: #888888; }
.tac-bracket.selected { opacity: 1; border-width: 2px; }

.tac-vector {
    position: absolute;
    height: 1px;
    transform-origin: left center;
    pointer-events: none;
    opacity: 0.4;
}

.tac-vector.hostile { background: var(--hostile-color); }
.tac-vector.friendly { background: var(--friendly-color); }
.tac-vector.neutral { background: #556677; }

/* =============================================
   Docking / Undocking Animation
   ============================================= */
.dock-anim {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 500;
    pointer-events: none;
}

.dock-anim.hidden {
    display: none;
}

.dock-anim-bar {
    position: absolute;
    left: 0;
    width: 100%;
    height: 0;
    background: #000;
    transition: height 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 501;
}

.dock-anim-top { top: 0; }
.dock-anim-bottom { bottom: 0; }

.dock-anim.active .dock-anim-bar {
    height: 15vh;
}

.dock-anim.fullscreen .dock-anim-bar {
    height: 50vh;
}

.dock-anim-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    opacity: 0;
    transition: opacity 0.4s ease 0.3s;
    z-index: 502;
}

.dock-anim.active .dock-anim-content {
    opacity: 1;
}

.dock-anim-icon {
    font-size: 36px;
    color: var(--primary-cyan);
    margin-bottom: 12px;
    text-shadow: 0 0 20px var(--glow-cyan);
    animation: dock-icon-pulse 1.2s ease-in-out infinite;
}

.dock-anim-text {
    font-size: 22px;
    letter-spacing: 8px;
    color: var(--text-primary);
    text-shadow: 0 0 15px var(--glow-cyan);
    font-weight: bold;
}

.dock-anim-station {
    font-size: 13px;
    letter-spacing: 3px;
    color: var(--text-secondary);
    margin-top: 8px;
}

.dock-anim-dots span {
    font-size: 24px;
    color: var(--primary-cyan);
    animation: dock-dot-blink 1.4s ease-in-out infinite;
    opacity: 0;
}

.dock-anim-dots span:nth-child(2) { animation-delay: 0.2s; }
.dock-anim-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes dock-icon-pulse {
    0%, 100% { transform: scale(1); opacity: 0.8; }
    50% { transform: scale(1.1); opacity: 1; }
}

@keyframes dock-dot-blink {
    0%, 20% { opacity: 0; }
    40%, 60% { opacity: 1; }
    80%, 100% { opacity: 0; }
}

/* Undock specific - green tint */
.dock-anim.undocking .dock-anim-icon {
    color: #44ff88;
    text-shadow: 0 0 20px rgba(68, 255, 136, 0.5);
}

.dock-anim.undocking .dock-anim-text {
    text-shadow: 0 0 15px rgba(68, 255, 136, 0.5);
}

.dock-anim.undocking .dock-anim-dots span {
    color: #44ff88;
}

/* =============================================
   Damage Direction Indicators
   ============================================= */
/* Autopilot Route Indicator */
#route-indicator {
    position: fixed;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 16px;
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 200, 50, 0.4);
    border-radius: 20px;
    z-index: 60;
    pointer-events: none;
    animation: route-glow 2s ease-in-out infinite;
}

#route-indicator.hidden { display: none; }

.route-arrow {
    font-size: 18px;
    color: #ffcc33;
    transition: transform 0.3s ease;
    text-shadow: 0 0 8px rgba(255, 200, 50, 0.6);
}

.route-dest {
    font-size: 12px;
    color: #ffcc33;
    font-weight: bold;
    letter-spacing: 1px;
}

.route-jumps {
    font-size: 10px;
    color: rgba(255, 200, 50, 0.6);
    letter-spacing: 0.5px;
}

.route-info {
    display: flex;
    flex-direction: column;
    gap: 1px;
}

@keyframes route-glow {
    0%, 100% { border-color: rgba(255, 200, 50, 0.3); box-shadow: 0 0 10px rgba(255, 200, 50, 0.05); }
    50% { border-color: rgba(255, 200, 50, 0.6); box-shadow: 0 0 15px rgba(255, 200, 50, 0.15); }
}

#damage-direction-container {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    pointer-events: none;
    z-index: 50;
}

.damage-direction-indicator {
    position: absolute;
    width: 4px;
    height: 60px;
    top: -180px;
    left: -2px;
    transform-origin: 2px 180px;
    background: linear-gradient(to bottom, rgba(255, 40, 40, 0.9), rgba(255, 40, 40, 0));
    border-radius: 2px;
    animation: damage-dir-fade 0.8s ease-out forwards;
    box-shadow: 0 0 8px rgba(255, 40, 40, 0.6);
}

@keyframes damage-dir-fade {
    0% { opacity: 1; }
    30% { opacity: 0.8; }
    100% { opacity: 0; }
}

.damage-direction-indicator.missile-warning {
    width: 6px;
    height: 80px;
    top: -200px;
    left: -3px;
    transform-origin: 3px 200px;
    background: linear-gradient(to bottom, rgba(255, 160, 0, 1), rgba(255, 80, 0, 0));
    box-shadow: 0 0 12px rgba(255, 140, 0, 0.8);
    animation: missile-dir-fade 1.2s ease-out forwards;
}

@keyframes missile-dir-fade {
    0% { opacity: 1; }
    20% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 0; }
}

.damage-direction-indicator.hostile-warning {
    width: 5px;
    height: 70px;
    top: -180px;
    left: -2.5px;
    transform-origin: 2.5px 180px;
    background: linear-gradient(to bottom, rgba(255, 60, 30, 0.9), rgba(255, 30, 0, 0));
    box-shadow: 0 0 10px rgba(255, 40, 20, 0.6);
    animation: hostile-dir-fade 1.5s ease-out forwards;
}

@keyframes hostile-dir-fade {
    0% { opacity: 0.9; }
    30% { opacity: 0.8; }
    100% { opacity: 0; }
}

/* =============================================
   Salvage Beam Visual
   ============================================= */
#salvage-beam-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10;
}

.salvage-progress-bar {
    position: absolute;
    width: 60px;
    height: 4px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(136, 119, 102, 0.4);
    border-radius: 2px;
    transform: translateX(-50%);
    pointer-events: none;
    z-index: 100;
}

.salvage-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #887766, #bbaa88);
    border-radius: 1px;
    transition: width 0.15s linear;
    box-shadow: 0 0 4px rgba(136, 119, 102, 0.5);
}

/* =============================================
   Bounty Board System
   ============================================= */
.bounty-board {
    padding: 8px;
}

.bounty-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    margin-bottom: 10px;
    background: linear-gradient(90deg, rgba(200, 30, 30, 0.15), rgba(200, 30, 30, 0.05));
    border: 1px solid rgba(200, 30, 30, 0.3);
    border-radius: 4px;
}

.bounty-header-left {
    display: flex;
    align-items: center;
    gap: 8px;
}

.bounty-skull {
    font-size: 22px;
    color: #ff4444;
    text-shadow: 0 0 8px rgba(255, 68, 68, 0.5);
    filter: drop-shadow(0 0 4px rgba(255, 68, 68, 0.3));
}

.bounty-header-title {
    font-size: 14px;
    font-weight: bold;
    color: #ff6644;
    letter-spacing: 2px;
    text-shadow: 0 0 6px rgba(255, 68, 68, 0.3);
}

.bounty-header-stats {
    display: flex;
    gap: 12px;
}

.bounty-stat {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: 1px;
}

.bounty-stat em {
    color: #ff8866;
    font-style: normal;
    font-weight: bold;
}

.bounty-section-label {
    font-size: 9px;
    color: rgba(255, 255, 255, 0.4);
    letter-spacing: 2px;
    padding: 6px 4px 4px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    margin-bottom: 6px;
}

.bounty-card {
    background: linear-gradient(135deg, rgba(30, 15, 10, 0.9), rgba(20, 10, 5, 0.95));
    border: 1px solid rgba(200, 80, 40, 0.3);
    border-radius: 4px;
    margin-bottom: 8px;
    overflow: hidden;
    transition: border-color 0.2s;
}

.bounty-card:hover {
    border-color: rgba(255, 100, 50, 0.5);
}

.bounty-card.bounty-accepted {
    border-color: rgba(255, 170, 0, 0.4);
    background: linear-gradient(135deg, rgba(40, 25, 5, 0.9), rgba(25, 15, 0, 0.95));
}

.bounty-card.bounty-completed {
    opacity: 0.6;
    border-color: rgba(68, 255, 68, 0.3);
}

.bounty-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 10px;
    background: rgba(255, 40, 40, 0.08);
    border-bottom: 1px solid rgba(200, 80, 40, 0.15);
}

.bounty-danger-tag {
    font-size: 9px;
    font-weight: bold;
    letter-spacing: 2px;
    padding: 2px 8px;
    border-radius: 2px;
}

.danger-moderate {
    color: #ffaa44;
    background: rgba(255, 170, 68, 0.12);
    border: 1px solid rgba(255, 170, 68, 0.25);
}

.danger-high {
    color: #ff6644;
    background: rgba(255, 102, 68, 0.12);
    border: 1px solid rgba(255, 102, 68, 0.3);
}

.danger-extreme {
    color: #ff2222;
    background: rgba(255, 34, 34, 0.15);
    border: 1px solid rgba(255, 34, 34, 0.35);
    animation: danger-pulse 2s ease-in-out infinite;
}

@keyframes danger-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.bounty-status-tag {
    font-size: 8px;
    letter-spacing: 1px;
    padding: 1px 6px;
    border-radius: 2px;
}

.bounty-claimed-tag {
    color: #44ff44;
    background: rgba(68, 255, 68, 0.12);
    border: 1px solid rgba(68, 255, 68, 0.3);
}

.bounty-card-body {
    display: flex;
    justify-content: space-between;
    padding: 8px 10px;
    gap: 12px;
}

.bounty-target-name {
    font-size: 13px;
    font-weight: bold;
    color: #ffccaa;
    margin-bottom: 3px;
    text-shadow: 0 0 4px rgba(255, 170, 100, 0.2);
}

.bounty-target-details {
    display: flex;
    flex-direction: column;
    gap: 1px;
}

.bounty-detail {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.5);
}

.bounty-kills {
    font-size: 10px;
    color: rgba(255, 80, 40, 0.8);
    margin-top: 3px;
}

.bounty-kill-count {
    color: #ff4422;
    font-weight: bold;
}

.bounty-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 6px;
    min-width: 120px;
}

.bounty-location, .bounty-reward-display {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.bounty-label {
    font-size: 8px;
    color: rgba(255, 255, 255, 0.3);
    letter-spacing: 1px;
}

.bounty-value {
    font-size: 11px;
    color: #88aacc;
}

.bounty-reward-amount {
    font-size: 14px;
    font-weight: bold;
    color: #ffcc44;
    text-shadow: 0 0 6px rgba(255, 204, 68, 0.3);
}

.bounty-card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 6px 10px;
    background: rgba(0, 0, 0, 0.2);
    border-top: 1px solid rgba(200, 80, 40, 0.1);
}

.bounty-accept-btn {
    background: linear-gradient(180deg, rgba(200, 60, 20, 0.3), rgba(160, 40, 10, 0.4)) !important;
    border-color: rgba(255, 100, 50, 0.4) !important;
    color: #ff8844 !important;
    font-size: 10px !important;
    padding: 4px 16px !important;
    letter-spacing: 1px;
}

.bounty-accept-btn:hover {
    background: linear-gradient(180deg, rgba(255, 80, 30, 0.4), rgba(200, 60, 20, 0.5)) !important;
    border-color: rgba(255, 120, 60, 0.6) !important;
    color: #ffaa66 !important;
}

.bounty-abandon-btn {
    background: rgba(80, 40, 30, 0.3) !important;
    border-color: rgba(150, 80, 50, 0.3) !important;
    color: rgba(255, 150, 100, 0.6) !important;
    font-size: 9px !important;
    padding: 3px 10px !important;
}

.bounty-timer {
    font-size: 9px;
    color: rgba(255, 170, 0, 0.6);
    letter-spacing: 1px;
}

.bounty-claimed-text {
    font-size: 11px;
    color: #44ff44;
    font-weight: bold;
}

.bounty-empty {
    text-align: center;
    color: rgba(255, 255, 255, 0.3);
    padding: 30px 10px;
    font-size: 12px;
    font-style: italic;
}

.bounty-info {
    margin-top: 12px;
    padding: 8px;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.bounty-info p {
    font-size: 9px;
    color: rgba(255, 255, 255, 0.3);
    margin: 2px 0;
    line-height: 1.4;
}

/* Bounty Kill Notification (center-screen popup) */
.bounty-kill-notification {
    position: fixed;
    top: 25%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 9999;
    pointer-events: none;
    animation: bkn-appear 4s ease-out forwards;
}

@keyframes bkn-appear {
    0% { opacity: 0; transform: translateX(-50%) scale(0.8); }
    10% { opacity: 1; transform: translateX(-50%) scale(1.05); }
    15% { transform: translateX(-50%) scale(1); }
    80% { opacity: 1; }
    100% { opacity: 0; transform: translateX(-50%) translateY(-30px); }
}

.bkn-skull {
    font-size: 48px;
    color: #ff4444;
    text-shadow: 0 0 20px rgba(255, 68, 68, 0.6), 0 0 40px rgba(255, 68, 68, 0.3);
    margin-bottom: 4px;
    animation: bkn-skull-glow 1s ease-in-out 3;
}

@keyframes bkn-skull-glow {
    0%, 100% { text-shadow: 0 0 20px rgba(255, 68, 68, 0.6); }
    50% { text-shadow: 0 0 30px rgba(255, 68, 68, 0.9), 0 0 60px rgba(255, 68, 68, 0.4); }
}

.bkn-title {
    font-size: 22px;
    font-weight: bold;
    color: #ff6644;
    letter-spacing: 4px;
    text-shadow: 0 0 10px rgba(255, 102, 68, 0.5);
    margin-bottom: 4px;
}

.bkn-name {
    font-size: 16px;
    color: #ffccaa;
    margin-bottom: 2px;
}

.bkn-ship {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
    margin-bottom: 6px;
}

.bkn-reward {
    font-size: 20px;
    font-weight: bold;
    color: #ffcc44;
    text-shadow: 0 0 10px rgba(255, 204, 68, 0.4);
}

/* =============================================
   ENCYCLOPEDIA / CODEX
   ============================================= */

#encyclopedia {
    position: fixed;
    inset: 0;
    z-index: 10000;
    background: rgba(0, 2, 8, 0.95);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Courier New', monospace;
}
#encyclopedia.hidden { display: none; }

.enc-container {
    width: 95%;
    max-width: 1400px;
    height: 90vh;
    display: flex;
    flex-direction: column;
    background: rgba(5, 12, 25, 0.95);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 4px;
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.08), inset 0 0 60px rgba(0, 0, 0, 0.5);
}

/* Header */
.enc-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 12px 20px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.12);
    background: rgba(0, 20, 40, 0.6);
    flex-shrink: 0;
}
.enc-title {
    font-size: 18px;
    font-weight: bold;
    color: #00ffff;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
    letter-spacing: 3px;
    white-space: nowrap;
}
.enc-search-wrap { flex: 1; max-width: 350px; }
.enc-search {
    width: 100%;
    padding: 6px 12px;
    background: rgba(0, 20, 40, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 3px;
    color: #ccc;
    font-family: inherit;
    font-size: 12px;
    outline: none;
}
.enc-search:focus { border-color: rgba(0, 255, 255, 0.5); }
.enc-discovery-total {
    font-size: 11px;
    color: rgba(0, 255, 255, 0.7);
    white-space: nowrap;
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.4);
}
.enc-reveal-all {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: rgba(0, 255, 255, 0.6);
    font-size: 10px;
    font-family: inherit;
    cursor: pointer;
    padding: 4px 10px;
    border-radius: 3px;
    white-space: nowrap;
}
.enc-reveal-all:hover { background: rgba(0, 255, 255, 0.1); color: #00ffff; }
.enc-close {
    background: none;
    border: 1px solid rgba(255, 100, 100, 0.3);
    color: #ff6666;
    font-size: 16px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 3px;
}
.enc-close:hover { background: rgba(255, 0, 0, 0.2); }

/* Tabs */
.enc-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    flex-shrink: 0;
    background: rgba(0, 10, 20, 0.4);
}
.enc-tab {
    flex: 1;
    padding: 10px 8px;
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    color: rgba(255, 255, 255, 0.5);
    font-family: inherit;
    font-size: 12px;
    cursor: pointer;
    text-align: center;
    transition: all 0.2s;
    letter-spacing: 1px;
}
.enc-tab:hover { color: rgba(255, 255, 255, 0.8); background: rgba(0, 255, 255, 0.03); }
.enc-tab.active {
    color: #00ffff;
    border-bottom-color: #00ffff;
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.4);
}
.enc-tab-count { font-size: 10px; opacity: 0.6; }

/* Toolbar */
.enc-toolbar {
    padding: 8px 16px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
    flex-shrink: 0;
    background: rgba(0, 10, 20, 0.3);
}
.enc-toolbar-row {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}
.enc-toolbar label {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    gap: 4px;
}
.enc-toolbar select {
    background: rgba(0, 20, 40, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: #ccc;
    font-family: inherit;
    font-size: 11px;
    padding: 3px 6px;
    border-radius: 2px;
    outline: none;
}
.enc-sort-dir {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: #00ffff;
    cursor: pointer;
    padding: 3px 8px;
    font-size: 12px;
    border-radius: 2px;
}
.enc-sort-dir:hover { background: rgba(0, 255, 255, 0.1); }
.enc-back-btn {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #00ffff;
    cursor: pointer;
    padding: 4px 10px;
    font-size: 11px;
    font-family: inherit;
    border-radius: 2px;
    margin-left: auto;
}
.enc-back-btn:hover { background: rgba(0, 255, 255, 0.1); }
.enc-back-btn.hidden { display: none; }

/* Content area */
.enc-content {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 255, 255, 0.2) transparent;
}
.enc-content::-webkit-scrollbar { width: 6px; }
.enc-content::-webkit-scrollbar-track { background: transparent; }
.enc-content::-webkit-scrollbar-thumb { background: rgba(0, 255, 255, 0.2); border-radius: 3px; }

/* Grid */
.enc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

/* Cards */
.enc-card {
    background: rgba(8, 16, 28, 0.85);
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-left: 3px solid var(--role-color, rgba(0, 255, 255, 0.2));
    border-radius: 6px;
    padding: 0;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}
.enc-card:hover {
    border-color: var(--role-color, rgba(0, 255, 255, 0.4));
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.15),
                0 4px 16px rgba(0, 0, 0, 0.4);
    background: rgba(10, 22, 40, 0.95);
    transform: translateY(-2px);
}
.enc-undiscovered {
    filter: brightness(0.15);
    opacity: 0.6;
    cursor: default;
}
.enc-undiscovered:hover {
    filter: brightness(0.2);
    border-color: rgba(0, 255, 255, 0.08);
    box-shadow: none;
    transform: none;
}

/* Ship preview area */
.enc-card-preview {
    height: 95px;
    position: relative;
    background: linear-gradient(135deg, rgba(0, 8, 16, 0.95) 0%, rgba(4, 12, 24, 0.95) 100%);
    border-bottom: 1px solid rgba(0, 255, 255, 0.06);
    display: flex;
    align-items: center;
    justify-content: center;
}
.enc-card-thumb {
    width: 100%;
    height: 100%;
    object-fit: contain;
    opacity: 0;
    transition: opacity 0.6s ease;
}
.enc-card-thumb.loaded {
    opacity: 1;
}
.enc-card-scanline {
    position: absolute;
    top: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, rgba(0, 255, 255, 0.25) 50%, transparent 100%);
    animation: enc-scan 4s linear infinite;
    pointer-events: none;
}
@keyframes enc-scan {
    0% { top: -2px; opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { top: 95px; opacity: 0; }
}
.enc-preview-locked {
    background: repeating-linear-gradient(
        45deg,
        rgba(0, 8, 16, 0.95),
        rgba(0, 8, 16, 0.95) 10px,
        rgba(5, 15, 25, 0.95) 10px,
        rgba(5, 15, 25, 0.95) 20px
    );
}

/* Card body (padding wrapper) */
.enc-card-body {
    padding: 8px 10px 10px;
}

/* Equipment stripe */
.enc-card-stripe {
    height: 3px;
    background: linear-gradient(90deg, var(--role-color, #888) 0%, transparent 100%);
}

/* Equipment symbol */
.enc-card-eq-symbol {
    font-size: 26px;
    text-align: center;
    padding: 6px 0 2px;
    text-shadow: 0 0 12px currentColor, 0 0 24px currentColor;
    opacity: 0.7;
}

.enc-card-lock {
    font-size: 24px;
    text-align: center;
    margin-bottom: 6px;
    filter: brightness(3);
}
.enc-card-badges {
    display: flex;
    gap: 4px;
    margin-bottom: 6px;
}
.enc-badge-role {
    font-size: 9px;
    padding: 2px 6px;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #fff;
    font-weight: bold;
}
.enc-badge-size {
    font-size: 9px;
    padding: 2px 6px;
    border-radius: 2px;
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.6);
    text-transform: uppercase;
    letter-spacing: 1px;
}
.enc-badge-guild {
    font-size: 9px;
    padding: 2px 6px;
    border-radius: 2px;
    background: rgba(255, 170, 0, 0.3);
    color: #ffaa44;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.enc-card-name {
    font-size: 13px;
    color: #ddd;
    margin-bottom: 4px;
    font-weight: bold;
}
.enc-card-icon {
    font-size: 22px;
    text-align: center;
    margin-bottom: 4px;
}
.enc-card-stats {
    display: flex;
    gap: 8px;
    font-size: 10px;
    color: rgba(255, 255, 255, 0.4);
    flex-wrap: wrap;
}
.enc-card-guild {
    font-size: 9px;
    color: #ffaa44;
    margin-top: 4px;
}
.enc-card-sub {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.3);
    filter: brightness(3);
}

/* Footer / Pagination */
.enc-footer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    padding: 10px 20px;
    border-top: 1px solid rgba(0, 255, 255, 0.08);
    flex-shrink: 0;
    background: rgba(0, 10, 20, 0.3);
}
.enc-footer.hidden { display: none; }
.enc-page-btn {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #00ffff;
    cursor: pointer;
    padding: 4px 12px;
    font-family: inherit;
    font-size: 11px;
    border-radius: 2px;
}
.enc-page-btn:hover:not(:disabled) { background: rgba(0, 255, 255, 0.1); }
.enc-page-btn:disabled { opacity: 0.3; cursor: default; }
.enc-page-info { font-size: 11px; color: rgba(255, 255, 255, 0.4); }

/* Detail View */
.enc-detail {
    display: flex;
    gap: 24px;
}
.enc-detail-left {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
}
.enc-3d-canvas {
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 6px;
    background: #030608;
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.08),
                inset 0 0 40px rgba(0, 0, 0, 0.5);
}
.enc-detail-right {
    flex: 1;
    min-width: 0;
}
.enc-detail-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}
.enc-detail-header h2 {
    font-size: 20px;
    color: #fff;
    margin: 0;
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}
.enc-description {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
    line-height: 1.5;
    margin-bottom: 16px;
}

/* Stat sections */
.enc-stat-section {
    margin-bottom: 14px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.06);
}
.enc-stat-section h3 {
    font-size: 11px;
    color: rgba(0, 255, 255, 0.6);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0 0 8px 0;
}
.enc-stat-bar-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 4px;
}
.enc-stat-label {
    width: 60px;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
    text-align: right;
}
.enc-stat-bar {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    overflow: hidden;
}
.enc-stat-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.8s ease-out;
    box-shadow: 0 0 6px currentColor;
}
.enc-stat-value {
    width: 50px;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
}
.enc-stat-total {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
    text-align: right;
    margin-top: 4px;
}
.enc-stat-row {
    display: flex;
    justify-content: space-between;
    padding: 3px 0;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.5);
}
.enc-stat-row span:last-child { color: rgba(255, 255, 255, 0.8); }
.enc-stat-row.enc-price span:last-child { color: #ffcc44; font-weight: bold; }

/* Slot pips */
.enc-slot-blocks {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}
.enc-slots-group {
    display: flex;
    align-items: center;
    gap: 6px;
}
.enc-slot-label {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.4);
    min-width: 55px;
}
.enc-slot-pips { display: flex; gap: 3px; }
.enc-slot-pip {
    width: 12px;
    height: 12px;
    border-radius: 2px;
    border: 1px solid rgba(255, 255, 255, 0.15);
}

/* Bonus tags */
.enc-bonus {
    display: inline-block;
    font-size: 10px;
    padding: 2px 8px;
    margin: 2px 4px 2px 0;
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 3px;
    color: rgba(0, 255, 255, 0.8);
}

/* Construction cost table */
.enc-cost-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 11px;
    margin-top: 8px;
}
.enc-cost-table th, .enc-cost-table td {
    padding: 4px 8px;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}
.enc-cost-table th {
    color: rgba(255, 255, 255, 0.4);
    font-weight: normal;
    text-transform: uppercase;
    font-size: 9px;
    letter-spacing: 1px;
}
.enc-cost-table td { color: rgba(255, 255, 255, 0.6); }
.enc-cost-table td:last-child { text-align: right; }
.enc-cost-table th:last-child { text-align: right; }
.enc-cost-total td {
    color: #ffcc44 !important;
    font-weight: bold;
    border-top: 1px solid rgba(255, 204, 68, 0.2);
}

/* Size silhouette bar */
.enc-size-bar {
    display: flex;
    align-items: flex-end;
    gap: 6px;
    padding: 8px 16px;
    background: rgba(0, 10, 20, 0.5);
    border-radius: 4px;
    border: 1px solid rgba(0, 255, 255, 0.08);
}
.enc-size-pip {
    width: 28px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 2px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    transition: all 0.2s;
    position: relative;
}
.enc-size-pip.active {
    background: rgba(0, 255, 255, 0.3);
    box-shadow: 0 0 8px rgba(0, 255, 255, 0.3);
}
.enc-size-label {
    font-size: 8px;
    color: rgba(255, 255, 255, 0.3);
    padding: 2px 0;
}
.enc-size-pip.active .enc-size-label { color: #00ffff; }

/* Compare button */
.enc-compare-btn {
    margin-top: 12px;
    padding: 10px 24px;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.08), rgba(0, 200, 255, 0.12));
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: #00ffff;
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.3);
    font-family: inherit;
    font-size: 12px;
    cursor: pointer;
    border-radius: 3px;
    transition: all 0.2s;
}
.enc-compare-btn:hover {
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.15), rgba(0, 200, 255, 0.2));
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2), 0 0 40px rgba(0, 255, 255, 0.05);
    transform: translateY(-1px);
}

/* Compare prompt */
.enc-compare-prompt {
    text-align: center;
    padding: 12px;
    color: rgba(0, 255, 255, 0.7);
    font-size: 14px;
    margin-bottom: 12px;
}

/* Comparison view */
.enc-compare { display: flex; flex-direction: column; gap: 16px; }
.enc-cmp-header {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 24px;
}
.enc-cmp-ship { text-align: center; }
.enc-3d-canvas-sm {
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 6px;
    background: #030608;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.06),
                inset 0 0 30px rgba(0, 0, 0, 0.5);
}
.enc-cmp-name {
    font-size: 16px;
    color: #fff;
    margin-top: 8px;
    font-weight: bold;
}
.enc-cmp-sub {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.4);
    margin-top: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}
.enc-cmp-vs {
    font-size: 28px;
    color: rgba(0, 255, 255, 0.4);
    font-weight: bold;
    align-self: center;
    padding-top: 100px;
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    animation: enc-vs-pulse 2s ease-in-out infinite;
}
@keyframes enc-vs-pulse {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
}

/* Comparison stat rows */
.enc-cmp-stats { max-width: 800px; margin: 0 auto; width: 100%; }
.enc-cmp-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 4px;
}
.enc-cmp-val {
    width: 60px;
    font-size: 11px;
    font-weight: bold;
    text-align: center;
}
.enc-cmp-bars {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 4px;
}
.enc-cmp-bar-left {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    overflow: hidden;
    display: flex;
    justify-content: flex-end;
}
.enc-cmp-fill-left {
    height: 100%;
    border-radius: 4px;
}
.enc-cmp-bar-right {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    overflow: hidden;
}
.enc-cmp-fill-right {
    height: 100%;
    border-radius: 4px;
}
.enc-cmp-label {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.4);
    text-align: center;
    min-width: 70px;
    white-space: nowrap;
}

/* Faction list */
.enc-faction-list { display: flex; flex-direction: column; gap: 8px; }
.enc-faction-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 16px;
    background: rgba(10, 20, 35, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}
.enc-faction-card:hover {
    border-color: rgba(0, 255, 255, 0.3);
    background: rgba(10, 25, 45, 0.9);
}
.enc-faction-card.enc-undiscovered {
    filter: brightness(0.15);
    opacity: 0.6;
    cursor: default;
    border-left: 4px solid rgba(128, 128, 128, 0.3);
}
.enc-faction-icon { font-size: 32px; }
.enc-faction-icon-lg { font-size: 40px; }
.enc-faction-info { flex: 1; }
.enc-faction-name { font-size: 15px; color: #ddd; font-weight: bold; }
.enc-faction-short { font-size: 11px; color: rgba(255, 255, 255, 0.3); }
.enc-faction-short-lg { font-size: 14px; color: rgba(255, 255, 255, 0.3); }
.enc-faction-desc { font-size: 11px; color: rgba(255, 255, 255, 0.4); margin-top: 4px; line-height: 1.4; }
.enc-faction-hostile {
    display: inline-block;
    font-size: 10px;
    padding: 2px 8px;
    margin-top: 4px;
    background: rgba(255, 0, 0, 0.2);
    border: 1px solid rgba(255, 0, 0, 0.3);
    border-radius: 2px;
    color: #ff4444;
    letter-spacing: 1px;
}
.enc-badge-hostile {
    font-size: 10px;
    padding: 2px 8px;
    background: rgba(255, 0, 0, 0.2);
    border: 1px solid rgba(255, 0, 0, 0.3);
    border-radius: 2px;
    color: #ff4444;
    font-weight: bold;
    letter-spacing: 1px;
}

/* Fleet composition */
.enc-fleet-list { display: flex; flex-direction: column; gap: 4px; }
.enc-fleet-entry {
    display: flex;
    gap: 12px;
    font-size: 11px;
    padding: 3px 0;
    color: rgba(255, 255, 255, 0.6);
}
.enc-fleet-role { color: rgba(255, 255, 255, 0.4); min-width: 60px; text-transform: uppercase; font-size: 9px; letter-spacing: 1px; }
.enc-fleet-ship { color: rgba(255, 255, 255, 0.7); flex: 1; }
.enc-fleet-count { color: rgba(0, 255, 255, 0.6); }

/* Sector tags */
.enc-sector-tags { display: flex; gap: 6px; flex-wrap: wrap; }
.enc-sector-tag {
    font-size: 10px;
    padding: 3px 8px;
    background: rgba(0, 255, 255, 0.06);
    border: 1px solid rgba(0, 255, 255, 0.12);
    border-radius: 3px;
    color: rgba(0, 255, 255, 0.7);
}

/* Universe list */
.enc-universe-list { display: flex; flex-direction: column; gap: 8px; }
.enc-sector-card {
    padding: 14px 16px;
    background: rgba(10, 20, 35, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.1);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}
.enc-sector-card:hover {
    border-color: rgba(0, 255, 255, 0.3);
    background: rgba(10, 25, 45, 0.9);
}
.enc-sector-card.enc-undiscovered {
    filter: brightness(0.15);
    opacity: 0.6;
    cursor: default;
}
.enc-sector-header { display: flex; align-items: center; gap: 10px; margin-bottom: 4px; }
.enc-sector-name { font-size: 15px; color: #ddd; font-weight: bold; }
.enc-badge-diff {
    font-size: 9px;
    padding: 2px 8px;
    border-radius: 2px;
    color: #000;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.enc-sector-specialty {
    font-size: 11px;
    color: rgba(0, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 4px;
}
.enc-sector-desc { font-size: 11px; color: rgba(255, 255, 255, 0.4); line-height: 1.4; }
.enc-sector-connections { font-size: 10px; color: rgba(255, 255, 255, 0.3); margin-top: 6px; }

/* Trade good detail */
.enc-trade-icon { font-size: 32px; }
.enc-produces-tag {
    font-size: 9px;
    padding: 1px 6px;
    background: rgba(68, 255, 136, 0.2);
    border: 1px solid rgba(68, 255, 136, 0.3);
    border-radius: 2px;
    color: #44ff88;
}
.enc-consumes-tag {
    font-size: 9px;
    padding: 1px 6px;
    background: rgba(255, 136, 68, 0.2);
    border: 1px solid rgba(255, 136, 68, 0.3);
    border-radius: 2px;
    color: #ff8844;
}
.enc-trade-entry {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.6);
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
}

/* Price table */
.enc-price-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 11px;
    margin-top: 8px;
}
.enc-price-table th, .enc-price-table td {
    padding: 5px 8px;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}
.enc-price-table th {
    color: rgba(255, 255, 255, 0.4);
    font-weight: normal;
    text-transform: uppercase;
    font-size: 9px;
    letter-spacing: 1px;
}
.enc-price-table td { color: rgba(255, 255, 255, 0.6); }

/* Search results */
.enc-search-group { margin-bottom: 20px; }
.enc-search-group h3 {
    font-size: 13px;
    color: rgba(0, 255, 255, 0.7);
    margin: 0 0 10px 0;
    padding-bottom: 6px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}
.enc-search-info {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.5);
}
.enc-no-results {
    text-align: center;
    padding: 60px 20px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.3);
}

/* Locked detail view */
.enc-detail-locked {
    text-align: center;
    padding: 60px 20px;
}
.enc-lock-big { font-size: 48px; margin-bottom: 16px; }
.enc-detail-locked h2 { color: rgba(255, 255, 255, 0.5); margin-bottom: 12px; }
.enc-detail-locked p { color: rgba(255, 255, 255, 0.3); margin-bottom: 20px; }
.enc-back-link {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #00ffff;
    cursor: pointer;
    padding: 6px 16px;
    font-family: inherit;
    font-size: 12px;
    border-radius: 3px;
}

/* Responsive */
@media (max-width: 900px) {
    .enc-detail { flex-direction: column; }
    .enc-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
    .enc-cmp-header { flex-direction: column; align-items: center; }
    .enc-cmp-vs { padding-top: 0; font-size: 20px; }
}

/* =============================================
   Floating Damage Popups (Enhancement)
   ============================================= */

#damage-popups {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 55;
}

.damage-popup {
    position: absolute;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    font-weight: bold;
    pointer-events: none;
    animation: damageFloat 1.2s ease-out forwards;
    white-space: nowrap;
}

.damage-popup.shield {
    color: #44ddff;
    text-shadow: 0 0 8px rgba(68, 221, 255, 0.7), 0 1px 3px rgba(0, 0, 0, 0.8);
}
.damage-popup.armor {
    color: #ffaa44;
    text-shadow: 0 0 8px rgba(255, 170, 68, 0.7), 0 1px 3px rgba(0, 0, 0, 0.8);
}
.damage-popup.hull {
    color: #ff4444;
    text-shadow: 0 0 8px rgba(255, 68, 68, 0.7), 0 1px 3px rgba(0, 0, 0, 0.8);
}
.damage-popup.miss {
    color: #888888;
    font-size: 13px;
    font-style: italic;
    text-shadow: 0 0 4px rgba(136, 136, 136, 0.4), 0 1px 3px rgba(0, 0, 0, 0.8);
}
.damage-popup.repair {
    color: #44ff88;
    text-shadow: 0 0 8px rgba(68, 255, 136, 0.7), 0 1px 3px rgba(0, 0, 0, 0.8);
}
.damage-popup.crit {
    font-size: 22px;
    animation: damageFloatCrit 1.2s ease-out forwards;
}

@keyframes damageFloat {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1.3);
    }
    15% {
        transform: translateY(-8px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-55px) scale(0.7);
    }
}

@keyframes damageFloatCrit {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1.8);
    }
    10% {
        transform: translateY(-12px) scale(1.2);
    }
    100% {
        opacity: 0;
        transform: translateY(-70px) scale(0.8);
    }
}

/* =============================================
   Gate Destination Labels
   ============================================= */

#gate-labels {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 40;
}

.gate-label {
    position: absolute;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    font-variant: small-caps;
    color: rgba(255, 255, 255, 0.75);
    text-shadow: 0 0 6px rgba(68, 221, 255, 0.5), 0 1px 3px rgba(0, 0, 0, 0.9);
    white-space: nowrap;
    transform: translateX(-50%);
    pointer-events: none;
    letter-spacing: 0.5px;
}

/* =============================================
   Ship Indicator Capacitor Bar
   ============================================= */

.mini-bar.capacitor {
    background: linear-gradient(180deg, #ccaa44 0%, #ffdd66 100%);
    box-shadow: 0 0 8px rgba(204, 170, 68, 0.3);
}

#ship-indicator .mini-bar-group:last-of-type .mini-bar.capacitor.cap-low {
    animation: cap-low-pulse 0.6s ease-in-out infinite;
}

@keyframes cap-low-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* =============================================
   Target Combat Info (DPS / Speed / Angular)
   ============================================= */

.target-combat-info {
    display: flex;
    gap: 8px;
    padding: 4px 0;
    border-top: 1px solid rgba(0, 255, 255, 0.1);
    margin-top: 2px;
}

.combat-info-row {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
}

.combat-info-label {
    font-size: 8px;
    color: rgba(0, 255, 255, 0.5);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.combat-info-value {
    font-size: 12px;
    font-family: 'Courier New', monospace;
    color: #00ffcc;
}

/* =============================================
   Hull Warning Escalation System
   ============================================= */

#ship-indicator.hull-warning {
    border-color: rgba(255, 200, 0, 0.5) !important;
    animation: hull-warning-pulse 1.2s ease-in-out infinite;
}

@keyframes hull-warning-pulse {
    0%, 100% { box-shadow: inset 0 0 6px rgba(255, 200, 0, 0.15), 0 0 4px rgba(255, 200, 0, 0.1); }
    50% { box-shadow: inset 0 0 12px rgba(255, 200, 0, 0.35), 0 0 8px rgba(255, 200, 0, 0.2); }
}

.hull-warning-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 11px;
    font-weight: bold;
    color: #ff2222;
    text-shadow: 0 0 10px rgba(255, 34, 34, 0.8), 0 0 20px rgba(255, 34, 34, 0.4);
    letter-spacing: 2px;
    animation: hull-text-blink 0.5s ease-in-out infinite;
    z-index: 5;
    pointer-events: none;
}

.hull-warning-text.hidden {
    display: none;
}

@keyframes hull-text-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.hull-vignette {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 45;
    opacity: 0;
    transition: opacity 0.3s;
    background: radial-gradient(ellipse at center, transparent 40%, rgba(255, 20, 20, 0.4) 100%);
}

.hull-vignette.active {
    opacity: 1;
    animation: hull-vignette-throb 0.8s ease-in-out infinite;
}

@keyframes hull-vignette-throb {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* =============================================
   Warp Destination Text
   ============================================= */

.warp-destination-text {
    position: absolute;
    top: 35%;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Courier New', monospace;
    font-size: 28px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.7);
    letter-spacing: 6px;
    text-transform: uppercase;
    text-shadow: 0 0 20px rgba(68, 221, 255, 0.6), 0 0 40px rgba(68, 221, 255, 0.3);
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    animation: warpDestFadeIn 0.8s ease-out 0.3s forwards;
}

@keyframes warpDestFadeIn {
    0% {
        opacity: 0;
        transform: translateX(-50%) scale(0.8);
        letter-spacing: 12px;
    }
    100% {
        opacity: 0.8;
        transform: translateX(-50%) scale(1);
        letter-spacing: 6px;
    }
}

/* ========================================
   Skippy the Magnificent - AI Advisor
   ======================================== */

#skippy-panel {
    width: 220px;
    z-index: 100;
}

#skippy-panel .panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

#skippy-panel .panel-title {
    font-size: 9px;
    letter-spacing: 1.5px;
}

.skippy-controls {
    display: flex;
    gap: 2px;
}

.skippy-ctrl-btn {
    background: none;
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: var(--text-secondary, #8899aa);
    cursor: pointer;
    font-size: 12px;
    padding: 1px 5px;
    border-radius: 2px;
    line-height: 1;
}

.skippy-ctrl-btn:hover {
    color: var(--primary-cyan, #00ffff);
    border-color: rgba(0, 255, 255, 0.4);
}

.skippy-ctrl-btn.muted {
    color: #ff4444;
    border-color: rgba(255, 68, 68, 0.3);
}

.skippy-body {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 6px;
}

.skippy-avatar-container {
    width: 208px;
    height: 180px;
    background: rgba(0, 5, 15, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.15);
    border-radius: 3px;
    overflow: hidden;
}

.skippy-avatar-container canvas {
    display: block;
    width: 100%;
    height: 100%;
}

.skippy-text {
    min-height: 36px;
    max-height: 80px;
    padding: 6px 8px;
    background: rgba(0, 10, 20, 0.7);
    border: 1px solid rgba(0, 255, 255, 0.12);
    border-radius: 3px;
    font-size: 11px;
    line-height: 1.4;
    color: #ccddee;
    overflow-y: auto;
    word-wrap: break-word;
}

.skippy-text.speaking {
    border-color: rgba(0, 255, 255, 0.5);
    animation: skippy-speak-glow 0.8s ease-in-out infinite;
}

@keyframes skippy-speak-glow {
    0%, 100% { box-shadow: 0 0 4px rgba(0, 255, 255, 0.1); }
    50% { box-shadow: 0 0 10px rgba(0, 255, 255, 0.3); }
}

.skippy-history {
    max-height: 60px;
    overflow-y: auto;
    font-size: 9px;
    color: #556677;
    padding: 0 4px;
}

.skippy-history-entry {
    padding: 2px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.05);
    line-height: 1.3;
}

.skippy-history-entry:first-child {
    color: #778899;
}

/* Combat mode - red alert glow */
#skippy-panel.combat-mode {
    border-color: rgba(255, 68, 68, 0.6);
    box-shadow: 0 0 12px rgba(255, 0, 0, 0.3), inset 0 0 8px rgba(255, 0, 0, 0.05);
}

#skippy-panel.combat-mode .panel-header {
    border-bottom-color: rgba(255, 68, 68, 0.4);
}

/* Speaking indicator dot */
.skippy-speaking-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: transparent;
    margin-right: 4px;
    vertical-align: middle;
}

.skippy-speaking-dot.active {
    background: #00ff88;
    animation: skippy-dot-pulse 0.6s ease-in-out infinite;
}

@keyframes skippy-dot-pulse {
    0%, 100% { opacity: 0.4; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* =============================================
   Splash / Title Screen
   ============================================= */

#splash-screen {
    position: fixed;
    inset: 0;
    z-index: 100000;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.6s ease;
}

#splash-screen.fade-out {
    opacity: 0;
    pointer-events: none;
}

#splash-bg-canvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}

.splash-content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 40px 60px;
    background: radial-gradient(ellipse at center, rgba(0, 20, 50, 0.85) 0%, rgba(0, 5, 15, 0.92) 80%);
    border: 1px solid rgba(0, 255, 255, 0.25);
    border-radius: 8px;
    box-shadow:
        0 0 40px rgba(0, 255, 255, 0.08),
        inset 0 0 30px rgba(0, 255, 255, 0.03);
    min-width: 400px;
    max-width: 520px;
}

.splash-skippy-container {
    width: 140px;
    height: 140px;
    position: relative;
    margin-bottom: 16px;
    overflow: visible;
}

#splash-skippy-canvas {
    width: 100%;
    height: 100%;
}

.splash-skippy-speech {
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 10px;
    color: var(--text-secondary, #88cccc);
    text-align: center;
    white-space: nowrap;
    opacity: 0.8;
    font-family: 'Courier New', monospace;
    pointer-events: none;
}

.splash-title {
    font-family: 'Courier New', monospace;
    font-size: 52px;
    font-weight: bold;
    letter-spacing: 14px;
    color: #00ffff;
    text-shadow:
        0 0 20px rgba(0, 255, 255, 0.7),
        0 0 40px rgba(0, 255, 255, 0.4),
        0 0 80px rgba(0, 255, 255, 0.2);
    margin: 0;
    text-transform: uppercase;
}

.splash-subtitle {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    letter-spacing: 6px;
    color: rgba(0, 255, 255, 0.5);
    text-transform: uppercase;
    margin: -4px 0 12px 0;
}

.splash-menu {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 100%;
    max-width: 320px;
}

.splash-btn {
    font-family: 'Courier New', monospace;
    font-size: 14px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--primary-cyan, #00ffff);
    background: rgba(0, 255, 255, 0.04);
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 10px 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.splash-btn:hover {
    background: rgba(0, 255, 255, 0.1);
    border-color: rgba(0, 255, 255, 0.7);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.15);
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
}

.splash-btn:active {
    background: rgba(0, 255, 255, 0.18);
}

.splash-version {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: rgba(0, 255, 255, 0.25);
    letter-spacing: 2px;
    margin-top: 8px;
}

/* Splash sub-screens (load, options, etc.) */
.splash-sub {
    position: absolute;
    inset: 0;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.85);
}

.splash-sub.hidden {
    display: none;
}

.splash-sub-panel {
    background: var(--panel-bg, linear-gradient(135deg, rgba(0, 20, 40, 0.95) 0%, rgba(0, 10, 30, 0.98) 100%));
    border: 1px solid rgba(0, 255, 255, 0.35);
    border-radius: 6px;
    padding: 24px;
    min-width: 500px;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
}

.splash-sub-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.15);
}

.splash-sub-header h2 {
    font-family: 'Courier New', monospace;
    font-size: 16px;
    color: var(--primary-cyan, #00ffff);
    letter-spacing: 3px;
    margin: 0;
}

.splash-back-btn {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: var(--primary-cyan, #00ffff);
    background: transparent;
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 4px 12px;
    cursor: pointer;
    letter-spacing: 1px;
}

.splash-back-btn:hover {
    border-color: rgba(0, 255, 255, 0.6);
    background: rgba(0, 255, 255, 0.08);
}

/* Save Slot Cards */
.save-slot-cards {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.save-slot-card {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 12px;
    align-items: center;
    padding: 12px 14px;
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    background: rgba(0, 20, 40, 0.6);
    transition: border-color 0.2s;
}

.save-slot-card:hover {
    border-color: rgba(0, 255, 255, 0.45);
}

.save-slot-card.empty {
    opacity: 0.4;
    border-style: dashed;
}

.save-slot-card.empty:hover {
    opacity: 0.6;
}

.slot-icon {
    font-size: 28px;
    width: 38px;
    text-align: center;
    color: var(--primary-cyan, #00ffff);
    opacity: 0.7;
}

.slot-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.slot-name {
    font-family: 'Courier New', monospace;
    font-size: 13px;
    color: var(--primary-cyan, #00ffff);
    font-weight: bold;
    letter-spacing: 1px;
}

.slot-name input {
    background: transparent;
    border: none;
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
    color: var(--primary-cyan, #00ffff);
    font-family: 'Courier New', monospace;
    font-size: 13px;
    letter-spacing: 1px;
    width: 100%;
    padding: 0 0 2px 0;
    outline: none;
}

.slot-name input:focus {
    border-bottom-color: rgba(0, 255, 255, 0.7);
}

.slot-detail {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: rgba(0, 255, 255, 0.5);
    letter-spacing: 0.5px;
}

.slot-detail span {
    margin-right: 10px;
}

.slot-timestamp {
    font-family: 'Courier New', monospace;
    font-size: 9px;
    color: rgba(0, 255, 255, 0.35);
}

.slot-empty-text {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: rgba(0, 255, 255, 0.35);
    font-style: italic;
}

.slot-actions {
    display: flex;
    gap: 6px;
}

.slot-action-btn {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    letter-spacing: 1px;
    color: var(--primary-cyan, #00ffff);
    background: rgba(0, 255, 255, 0.06);
    border: 1px solid rgba(0, 255, 255, 0.25);
    padding: 4px 10px;
    cursor: pointer;
    transition: all 0.15s;
}

.slot-action-btn:hover {
    background: rgba(0, 255, 255, 0.12);
    border-color: rgba(0, 255, 255, 0.5);
}

.slot-action-btn.danger {
    color: #ff4444;
    border-color: rgba(255, 68, 68, 0.3);
}

.slot-action-btn.danger:hover {
    background: rgba(255, 68, 68, 0.1);
    border-color: rgba(255, 68, 68, 0.5);
}

.slot-action-btn:disabled {
    opacity: 0.3;
    cursor: default;
    pointer-events: none;
}

.save-import-row {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid rgba(0, 255, 255, 0.1);
}

.save-import-row .splash-btn {
    font-size: 11px;
    padding: 6px 14px;
    flex: 1;
}

/* Splash confirm dialog */
.splash-confirm-overlay {
    position: fixed;
    inset: 0;
    z-index: 100001;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
}

.splash-confirm-dialog {
    background: rgba(0, 15, 35, 0.98);
    border: 1px solid rgba(0, 255, 255, 0.4);
    border-radius: 6px;
    padding: 24px;
    min-width: 300px;
    text-align: center;
}

.splash-confirm-dialog p {
    font-family: 'Courier New', monospace;
    font-size: 13px;
    color: var(--primary-cyan, #00ffff);
    margin: 0 0 16px 0;
}

.splash-confirm-dialog .confirm-btns {
    display: flex;
    gap: 10px;
    justify-content: center;
}

/* Splash Keybindings reference */
.splash-keybinds-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px 20px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    color: rgba(0, 255, 255, 0.7);
}

.splash-keybinds-grid .kb-row {
    display: flex;
    justify-content: space-between;
    padding: 3px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.06);
}

.splash-keybinds-grid .kb-key {
    color: var(--primary-cyan, #00ffff);
    font-weight: bold;
}

/* Faction Naming Screen */
.faction-naming-body {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.faction-skippy-line {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: rgba(0, 255, 255, 0.6);
    font-style: italic;
    text-align: center;
    padding: 8px 0;
}

.faction-input-row {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.faction-label {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: rgba(0, 255, 255, 0.5);
    letter-spacing: 2px;
}

.faction-name-input {
    font-family: 'Courier New', monospace;
    font-size: 16px;
    color: #00ffff;
    background: rgba(0, 20, 40, 0.8);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 4px;
    padding: 10px 14px;
    outline: none;
    letter-spacing: 1px;
}

.faction-name-input:focus {
    border-color: rgba(0, 255, 255, 0.6);
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.15);
}

.faction-name-input::placeholder {
    color: rgba(0, 255, 255, 0.2);
}

.faction-color-picker {
    display: flex;
    gap: 10px;
}

.faction-color-swatch {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: all 0.2s;
}

.faction-color-swatch:hover {
    transform: scale(1.15);
    border-color: rgba(255, 255, 255, 0.4);
}

.faction-color-swatch.selected {
    border-color: #fff;
    box-shadow: 0 0 12px currentColor;
    transform: scale(1.15);
}

.faction-preview {
    display: flex;
    justify-content: center;
    padding: 16px 0;
}

.faction-preview-banner {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 24px;
    border: 1px solid #00ccff;
    border-radius: 4px;
    background: rgba(0, 204, 255, 0.08);
}

.faction-preview-star {
    font-size: 20px;
    color: #ffaa00;
}

#faction-preview-name {
    font-family: 'Courier New', monospace;
    font-size: 16px;
    color: #00ccff;
    letter-spacing: 2px;
    font-weight: bold;
}

.faction-launch-btn {
    align-self: center;
    padding: 12px 32px !important;
    font-size: 14px !important;
    letter-spacing: 3px !important;
}

/* Fleet "Buy for Fleet" button in station */
.buy-fleet-btn {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #ffaa00;
    background: rgba(255, 170, 0, 0.1);
    border: 1px solid rgba(255, 170, 0, 0.3);
    padding: 3px 8px;
    cursor: pointer;
    letter-spacing: 1px;
    margin-left: 4px;
}

.buy-fleet-btn:hover {
    background: rgba(255, 170, 0, 0.2);
    border-color: rgba(255, 170, 0, 0.6);
}

.buy-fleet-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Faction Treasury HUD */
.faction-treasury-display {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #ffaa00;
    display: flex;
    align-items: center;
    gap: 4px;
}

.faction-treasury-icon {
    font-size: 12px;
}

.stardate-display {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #88bbff;
    display: flex;
    align-items: center;
    gap: 4px;
}

.stardate-label {
    color: #557799;
    font-size: 9px;
    font-weight: bold;
}

/* ============================================= */
/* Fleet Panel Sub-tabs                          */
/* ============================================= */

.fleet-sub-tabs {
    display: flex;
    gap: 0;
    background: rgba(0, 10, 20, 0.6);
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.fleet-sub-tab {
    flex: 1;
    padding: 5px 0;
    background: transparent;
    border: none;
    color: #557788;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
    letter-spacing: 1px;
    transition: all 0.2s;
    border-bottom: 2px solid transparent;
}

.fleet-sub-tab:hover {
    color: #88ccdd;
    background: rgba(0, 255, 255, 0.03);
}

.fleet-sub-tab.active {
    color: var(--primary-cyan, #00ffff);
    border-bottom-color: var(--primary-cyan, #00ffff);
    background: rgba(0, 255, 255, 0.05);
}

/* ============================================= */
/* AAR List View                                 */
/* ============================================= */

.aar-list {
    padding: 6px;
}

.aar-empty {
    text-align: center;
    color: #556677;
    padding: 30px 10px;
    font-size: 11px;
}

.aar-hint {
    font-size: 9px;
    color: #334455;
    margin-top: 6px;
}

.aar-list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
    padding: 0 2px;
}

.aar-count {
    font-size: 9px;
    color: #557788;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.aar-clear-btn {
    background: transparent;
    border: 1px solid rgba(255, 68, 68, 0.3);
    color: #ff4444;
    font-size: 8px;
    font-family: 'Courier New', monospace;
    padding: 2px 6px;
    cursor: pointer;
    border-radius: 2px;
}

.aar-clear-btn:hover {
    background: rgba(255, 68, 68, 0.15);
}

.aar-card {
    background: rgba(0, 20, 40, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.08);
    border-radius: 3px;
    padding: 8px;
    margin-bottom: 4px;
    cursor: pointer;
    transition: all 0.15s;
}

.aar-card:hover {
    background: rgba(0, 30, 60, 0.6);
    border-color: rgba(0, 255, 255, 0.15);
}

.aar-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

.aar-stardate {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #88bbff;
}

.aar-outcome {
    font-size: 9px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.aar-card-body {
    font-size: 9px;
}

.aar-sector {
    color: #88aacc;
    margin-bottom: 2px;
}

.aar-factions {
    color: #667788;
    margin-bottom: 3px;
}

.aar-stats {
    display: flex;
    gap: 10px;
    color: #556677;
}

/* ============================================= */
/* AAR Detail View                               */
/* ============================================= */

.aar-detail {
    padding: 6px;
}

.aar-back-btn {
    background: transparent;
    border: 1px solid rgba(0, 255, 255, 0.15);
    color: var(--primary-cyan, #00ffff);
    font-size: 9px;
    font-family: 'Courier New', monospace;
    padding: 3px 8px;
    cursor: pointer;
    margin-bottom: 8px;
    border-radius: 2px;
}

.aar-back-btn:hover {
    background: rgba(0, 255, 255, 0.1);
}

.aar-detail-header {
    background: rgba(0, 20, 40, 0.5);
    padding: 8px;
    margin-bottom: 8px;
    border-radius: 3px;
}

.aar-detail-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

.aar-outcome-large {
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.aar-detail-stardate {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #88bbff;
}

.aar-detail-meta {
    display: flex;
    justify-content: space-between;
    font-size: 9px;
    color: #667788;
}

/* Faction summary cards */
.aar-factions-summary {
    display: flex;
    gap: 6px;
    margin-bottom: 8px;
}

.aar-faction-card {
    flex: 1;
    background: rgba(0, 15, 30, 0.5);
    border: 1px solid rgba(100, 100, 100, 0.2);
    border-radius: 3px;
    padding: 6px;
}

.aar-faction-name {
    font-size: 10px;
    font-weight: bold;
    margin-bottom: 4px;
}

.aar-faction-stats,
.aar-faction-damage {
    font-size: 8px;
    color: #667788;
    display: flex;
    gap: 8px;
}

.aar-faction-damage {
    margin-top: 2px;
}

/* Ship list */
.aar-ships-section {
    margin-bottom: 8px;
}

.aar-section-title {
    font-size: 9px;
    color: #557788;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding-bottom: 3px;
    margin-bottom: 4px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.08);
}

.aar-ship-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3px 4px;
    font-size: 9px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
}

.aar-ship-row.destroyed {
    opacity: 0.6;
}

.aar-ship-name {
    font-weight: bold;
}

.aar-ship-class {
    font-weight: normal;
    color: #556677;
}

.aar-ship-stats {
    display: flex;
    gap: 8px;
    color: #667788;
}

.aar-destroyed-badge {
    color: #ff4444;
    font-weight: bold;
    font-size: 8px;
    text-transform: uppercase;
}

.aar-kill-credit {
    color: #888;
    font-style: italic;
}

/* Damage log */
.aar-log-section {
    margin-bottom: 8px;
}

.aar-log-toggle {
    background: rgba(0, 20, 40, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.1);
    color: #88aacc;
    font-family: 'Courier New', monospace;
    font-size: 9px;
    padding: 5px 8px;
    cursor: pointer;
    width: 100%;
    text-align: left;
    border-radius: 2px;
}

.aar-log-toggle:hover {
    background: rgba(0, 30, 60, 0.5);
}

.aar-log-entries {
    max-height: 200px;
    overflow-y: auto;
    background: rgba(0, 5, 15, 0.6);
    border: 1px solid rgba(0, 255, 255, 0.05);
    border-top: none;
    padding: 4px;
    font-size: 8px;
    font-family: 'Courier New', monospace;
}

.aar-log-entry {
    color: #667788;
    padding: 1px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.aar-log-entry.destruction {
    color: #ff6644;
    font-weight: bold;
}

.aar-log-time {
    color: #445566;
    margin-right: 4px;
}

.aar-log-destroyed {
    color: #ff4444;
}

/* Replay button */
.aar-replay-btn {
    background: rgba(0, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: var(--primary-cyan, #00ffff);
    font-family: 'Courier New', monospace;
    font-size: 10px;
    padding: 6px 12px;
    cursor: pointer;
    width: 100%;
    border-radius: 3px;
    letter-spacing: 1px;
    transition: all 0.2s;
}

.aar-replay-btn:hover {
    background: rgba(0, 255, 255, 0.15);
    border-color: rgba(0, 255, 255, 0.4);
}

/* ============================================= */
/* Tactical Replay Modal                         */
/* ============================================= */

.tactical-replay-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.tactical-replay-container {
    background: #0a0e1a;
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0, 100, 150, 0.3);
}

.tactical-replay-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 10px;
    background: rgba(0, 20, 40, 0.6);
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.tactical-replay-title {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: var(--primary-cyan, #00ffff);
    font-weight: bold;
    letter-spacing: 2px;
}

.tactical-replay-stardate {
    font-family: 'Courier New', monospace;
    font-size: 9px;
    color: #88bbff;
}

.tactical-replay-close {
    background: transparent;
    border: none;
    color: #ff4444;
    font-size: 16px;
    cursor: pointer;
    padding: 0 4px;
    line-height: 1;
}

.tactical-replay-close:hover {
    color: #ff6666;
}

.tactical-replay-canvas {
    display: block;
    background: #0a0a1a;
}

.tactical-replay-controls {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    background: rgba(0, 15, 30, 0.6);
    border-top: 1px solid rgba(0, 255, 255, 0.08);
}

.replay-btn {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: var(--primary-cyan, #00ffff);
    font-size: 12px;
    width: 28px;
    height: 24px;
    cursor: pointer;
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.replay-btn:hover {
    background: rgba(0, 255, 255, 0.2);
}

.replay-scrubber {
    flex: 1;
    height: 4px;
    -webkit-appearance: none;
    appearance: none;
    background: rgba(0, 255, 255, 0.1);
    border-radius: 2px;
    outline: none;
    cursor: pointer;
}

.replay-scrubber::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--primary-cyan, #00ffff);
    cursor: pointer;
}

.replay-time {
    font-family: 'Courier New', monospace;
    font-size: 9px;
    color: #667788;
    white-space: nowrap;
    min-width: 80px;
    text-align: right;
}

.replay-speed-btn {
    font-family: 'Courier New', monospace;
    font-size: 9px;
    min-width: 28px;
}

.tactical-replay-legend {
    display: flex;
    gap: 12px;
    padding: 4px 10px;
    background: rgba(0, 10, 20, 0.6);
    border-top: 1px solid rgba(0, 255, 255, 0.05);
}

.replay-legend-item {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 8px;
    color: #667788;
}

.replay-legend-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    display: inline-block;
}
